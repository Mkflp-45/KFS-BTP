<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Administration - KFS BTP</title>
    <meta name="description" content="Panneau d'administration KFS BTP">
    <link rel="icon" type="image/jpeg" href="assets/logo-kfs-btp.jpeg">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#1e3a8a">
    <link rel="apple-touch-icon" href="assets/logo-kfs-btp.jpeg">
    <style>
        * { font-family: 'Inter', sans-serif; }
        body { background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #0f172a 100%); }
        .sidebar { background: linear-gradient(180deg, #1e3a8a 0%, #1e40af 50%, #3b82f6 100%); }
        .glass-card { background: rgba(255,255,255,0.95); backdrop-filter: blur(10px); }
        .glass-dark { background: rgba(30,41,59,0.8); backdrop-filter: blur(10px); }
        .stat-card { transition: all 0.3s ease; }
        .stat-card:hover { transform: translateY(-5px); box-shadow: 0 20px 40px rgba(0,0,0,0.2); }
        .nav-link { transition: all 0.2s ease; }
        .nav-link:hover, .nav-link.active { background: rgba(255,255,255,0.15); border-left: 3px solid #fbbf24; }
        .module-section { display: none; }
        .module-section.active { display: block; animation: fadeIn 0.4s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .badge-pulse { animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .scrollbar-thin::-webkit-scrollbar { width: 6px; }
        .scrollbar-thin::-webkit-scrollbar-track { background: #1e293b; }
        .scrollbar-thin::-webkit-scrollbar-thumb { background: #3b82f6; border-radius: 3px; }
        .message-card { border-left: 4px solid #3b82f6; }
        .message-card.unread { border-left-color: #f59e0b; background: #fffbeb; }
        .chart-bar { transition: height 0.5s ease; }
        /* Notifications */
        .notification-toast { position: fixed; top: 20px; right: 20px; z-index: 9999; animation: slideInRight 0.3s ease; }
        @keyframes slideInRight { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
        @keyframes slideOutRight { from { transform: translateX(0); opacity: 1; } to { transform: translateX(100%); opacity: 0; } }
        .notification-toast.hide { animation: slideOutRight 0.3s ease forwards; }
        /* Calendrier */
        .calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 2px; }
        .calendar-day { aspect-ratio: 1; display: flex; align-items: center; justify-content: center; cursor: pointer; border-radius: 8px; transition: all 0.2s; }
        .calendar-day:hover { background: #e0e7ff; }
        .calendar-day.today { background: #3b82f6; color: white; font-weight: bold; }
        .calendar-day.has-event { position: relative; }
        .calendar-day.has-event::after { content: ''; position: absolute; bottom: 4px; width: 6px; height: 6px; background: #f59e0b; border-radius: 50%; }
        .calendar-day.selected { background: #1e40af; color: white; }
        /* PWA Install */
        .pwa-install-btn { background: linear-gradient(135deg, #10b981, #059669); }
        /* Analytics Charts */
        .chart-container { position: relative; height: 250px; }
        /* Comptabilit√© */
        .finance-card { transition: all 0.3s ease; border-left: 4px solid transparent; }
        .finance-card:hover { transform: translateX(5px); }
        .finance-card.income { border-left-color: #10b981; }
        .finance-card.expense { border-left-color: #ef4444; }
        /* Progress bars */
        .progress-bar { height: 8px; border-radius: 4px; overflow: hidden; background: #e5e7eb; }
        .progress-bar-fill { height: 100%; border-radius: 4px; transition: width 0.5s ease; }
        /* Print styles */
        @media print {
            .no-print { display: none !important; }
            .print-only { display: block !important; }
            body { background: white !important; }
            .glass-card { box-shadow: none !important; border: 1px solid #e5e7eb !important; }
        }
    </style>
</head>
<body class="min-h-screen text-white">
    
    <!-- √âcran de connexion -->
    <div id="login-screen" class="fixed inset-0 z-50 flex items-center justify-center bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900">
        <div class="glass-card rounded-3xl p-10 shadow-2xl max-w-md w-full mx-4 animate__animated animate__fadeInUp">
            <div class="text-center mb-8">
                <img src="assets/logo-kfs-btp.jpeg" alt="Logo" class="w-20 h-20 mx-auto rounded-full shadow-xl border-4 border-blue-500 mb-4">
                <h1 class="text-3xl font-bold text-blue-900">KFS BTP Admin</h1>
                <p class="text-gray-500 mt-2">Connectez-vous pour acc√©der au tableau de bord</p>
            </div>
            <form id="login-form" class="space-y-6">
                <div class="mb-5">
                    <label class="block text-gray-700 font-medium mb-2">Mot de passe</label>
                    <input type="password" id="login-password" class="w-full px-4 py-3 border border-gray-200 rounded-xl bg-white/80 shadow-sm focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition placeholder-gray-400" placeholder="Entrez votre mot de passe" required>
                </div>
                <button type="submit" class="w-full bg-gradient-to-r from-blue-700 to-blue-500 text-white py-3 rounded-xl font-semibold shadow-lg hover:from-blue-800 hover:to-blue-600 transition duration-200">
                    Connexion
                </button>
                <p id="login-error" class="text-red-500 text-center hidden">Mot de passe incorrect</p>
            </form>
            <p class="text-center text-gray-400 mt-6 text-sm">Mot de passe par d√©faut : <code class="bg-gray-100 px-2 py-1 rounded text-gray-700">admin123</code></p>
        </div>
    </div>

    <!-- Dashboard principal -->
    <div id="dashboard-container" class="hidden">
        <div class="flex min-h-screen">
            
            <!-- Sidebar -->
            <aside class="sidebar w-72 fixed left-0 top-0 h-full shadow-2xl z-40 flex flex-col">
                <!-- Logo -->
                <div class="p-6 border-b border-white/10">
                    <div class="flex items-center space-x-3">
                        <img src="assets/logo-kfs-btp.jpeg" alt="Logo" class="w-12 h-12 rounded-full border-2 border-white/30 shadow-lg">
                        <div>
                            <h1 class="font-bold text-xl text-white">KFS BTP</h1>
                            <p class="text-blue-200 text-xs">Panneau d'administration</p>
                        </div>
                    </div>
                </div>
                
                <!-- Navigation -->
                <nav class="flex-1 py-6 overflow-y-auto scrollbar-thin">
                    <ul class="space-y-1 px-3">
                        <li>
                            <a href="#" data-module="dashboard" class="nav-link active flex items-center px-4 py-3 rounded-xl text-white/90 hover:text-white">
                                <span class="material-icons mr-3">dashboard</span>
                                <span class="font-medium">Tableau de bord</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" data-module="messages" class="nav-link flex items-center px-4 py-3 rounded-xl text-white/90 hover:text-white">
                                <span class="material-icons mr-3">inbox</span>
                                <span class="font-medium">Messages</span>
                                <span id="messages-badge" class="ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full badge-pulse hidden">0</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" data-module="catalogue" class="nav-link flex items-center px-4 py-3 rounded-xl text-white/90 hover:text-white">
                                <span class="material-icons mr-3">inventory_2</span>
                                <span class="font-medium">Catalogue</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" data-module="carousel" class="nav-link flex items-center px-4 py-3 rounded-xl text-white/90 hover:text-white">
                                <span class="material-icons mr-3">view_carousel</span>
                                <span class="font-medium">Carrousel</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" data-module="temoignages" class="nav-link flex items-center px-4 py-3 rounded-xl text-white/90 hover:text-white">
                                <span class="material-icons mr-3">format_quote</span>
                                <span class="font-medium">T√©moignages</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" data-module="faq" class="nav-link flex items-center px-4 py-3 rounded-xl text-white/90 hover:text-white">
                                <span class="material-icons mr-3">help_outline</span>
                                <span class="font-medium">FAQ</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" data-module="media" class="nav-link flex items-center px-4 py-3 rounded-xl text-white/90 hover:text-white">
                                <span class="material-icons mr-3">photo_library</span>
                                <span class="font-medium">M√©dias</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" data-module="settings" class="nav-link flex items-center px-4 py-3 rounded-xl text-white/90 hover:text-white">
                                <span class="material-icons mr-3">settings</span>
                                <span class="font-medium">Param√®tres</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" data-module="seo" class="nav-link flex items-center px-4 py-3 rounded-xl text-white/90 hover:text-white">
                                <span class="material-icons mr-3">search</span>
                                <span class="font-medium">SEO</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" data-module="rdv" class="nav-link flex items-center px-4 py-3 rounded-xl text-white/90 hover:text-white">
                                <span class="material-icons mr-3">event</span>
                                <span class="font-medium">Rendez-vous</span>
                                <span id="rdv-badge" class="ml-auto bg-green-500 text-white text-xs px-2 py-1 rounded-full hidden">0</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" data-module="analytics" class="nav-link flex items-center px-4 py-3 rounded-xl text-white/90 hover:text-white">
                                <span class="material-icons mr-3">analytics</span>
                                <span class="font-medium">Analytics</span>
                            </a>
                        </li>
                        
                        <!-- S√©parateur Gestion Entreprise -->
                        <li class="pt-4 pb-2">
                            <p class="px-4 text-xs font-semibold text-blue-200 uppercase tracking-wider">Gestion Entreprise</p>
                        </li>
                        <li>
                            <a href="#" data-module="comptabilite" class="nav-link flex items-center px-4 py-3 rounded-xl text-white/90 hover:text-white">
                                <span class="material-icons mr-3">account_balance</span>
                                <span class="font-medium">Comptabilit√©</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" data-module="bilans" class="nav-link flex items-center px-4 py-3 rounded-xl text-white/90 hover:text-white">
                                <span class="material-icons mr-3">assessment</span>
                                <span class="font-medium">Bilans</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" data-module="clients" class="nav-link flex items-center px-4 py-3 rounded-xl text-white/90 hover:text-white">
                                <span class="material-icons mr-3">people</span>
                                <span class="font-medium">CRM Clients</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" data-module="projets" class="nav-link flex items-center px-4 py-3 rounded-xl text-white/90 hover:text-white">
                                <span class="material-icons mr-3">engineering</span>
                                <span class="font-medium">Projets/Chantiers</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" data-module="employes" class="nav-link flex items-center px-4 py-3 rounded-xl text-white/90 hover:text-white">
                                <span class="material-icons mr-3">badge</span>
                                <span class="font-medium">Employ√©s</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" data-module="stocks" class="nav-link flex items-center px-4 py-3 rounded-xl text-white/90 hover:text-white">
                                <span class="material-icons mr-3">inventory</span>
                                <span class="font-medium">Stocks</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" data-module="documents" class="nav-link flex items-center px-4 py-3 rounded-xl text-white/90 hover:text-white">
                                <span class="material-icons mr-3">folder</span>
                                <span class="font-medium">Documents</span>
                            </a>
                        </li>
                        
                        <!-- S√©parateur Syst√®me -->
                        <li class="pt-4 pb-2">
                            <p class="px-4 text-xs font-semibold text-blue-200 uppercase tracking-wider">Syst√®me</p>
                        </li>
                        <li>
                            <a href="#" data-module="updates" class="nav-link flex items-center px-4 py-3 rounded-xl text-white/90 hover:text-white">
                                <span class="material-icons mr-3">system_update</span>
                                <span class="font-medium">Mises √† jour</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" data-module="maintenance" class="nav-link flex items-center px-4 py-3 rounded-xl text-white/90 hover:text-white">
                                <span class="material-icons mr-3">engineering</span>
                                <span class="font-medium">Maintenance</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" data-module="backup" class="nav-link flex items-center px-4 py-3 rounded-xl text-white/90 hover:text-white">
                                <span class="material-icons mr-3">backup</span>
                                <span class="font-medium">Sauvegarde</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" data-module="security" class="nav-link flex items-center px-4 py-3 rounded-xl text-white/90 hover:text-white">
                                <span class="material-icons mr-3">security</span>
                                <span class="font-medium">S√©curit√©</span>
                            </a>
                        </li>
                    </ul>
                </nav>
                
                <!-- D√©connexion -->
                <div class="p-4 border-t border-white/10">
                    <button id="logout-btn" class="w-full flex items-center justify-center px-4 py-3 bg-red-500/20 hover:bg-red-500/30 rounded-xl text-red-200 hover:text-white transition">
                        <span class="material-icons mr-2">logout</span>
                        <span class="font-medium">D√©connexion</span>
                    </button>
                </div>
            </aside>

            <!-- Contenu principal -->
            <main class="flex-1 ml-72 p-8">
                
                <!-- Header -->
                <header class="flex items-center justify-between mb-8">
                    <div>
                        <h1 id="page-title" class="text-3xl font-bold text-white">Tableau de bord</h1>
                        <p class="text-gray-400 mt-1">Bienvenue dans votre espace d'administration</p>
                    </div>
                    <div class="flex items-center space-x-4">
                        <span class="text-gray-400" id="current-date"></span>
                        <a href="index.html" target="_blank" class="flex items-center px-4 py-2 bg-white/10 hover:bg-white/20 rounded-xl text-white transition">
                            <span class="material-icons mr-2">visibility</span>Voir le site
                        </a>
                    </div>
                </header>

                <!-- MODULE: Dashboard -->
                <section id="module-dashboard" class="module-section active">
                    <!-- Stats Cards -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                        <div class="stat-card glass-card rounded-2xl p-6 shadow-xl">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-gray-500 text-sm font-medium">Messages</p>
                                    <p class="text-3xl font-bold text-blue-900" id="stat-messages">0</p>
                                </div>
                                <div class="w-14 h-14 bg-blue-100 rounded-2xl flex items-center justify-center">
                                    <span class="material-icons text-blue-600 text-2xl">mail</span>
                                </div>
                            </div>
                            <p class="text-green-500 text-sm mt-3"><span class="material-icons text-sm align-middle">trending_up</span> Nouveaux aujourd'hui</p>
                        </div>
                        
                        <div class="stat-card glass-card rounded-2xl p-6 shadow-xl">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-gray-500 text-sm font-medium">Annonces</p>
                                    <p class="text-3xl font-bold text-green-700" id="stat-annonces">0</p>
                                </div>
                                <div class="w-14 h-14 bg-green-100 rounded-2xl flex items-center justify-center">
                                    <span class="material-icons text-green-600 text-2xl">inventory_2</span>
                                </div>
                            </div>
                            <p class="text-gray-400 text-sm mt-3">Publi√©es sur le site</p>
                        </div>
                        
                        <div class="stat-card glass-card rounded-2xl p-6 shadow-xl">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-gray-500 text-sm font-medium">T√©moignages</p>
                                    <p class="text-3xl font-bold text-purple-700" id="stat-temoignages">0</p>
                                </div>
                                <div class="w-14 h-14 bg-purple-100 rounded-2xl flex items-center justify-center">
                                    <span class="material-icons text-purple-600 text-2xl">format_quote</span>
                                </div>
                            </div>
                            <p class="text-gray-400 text-sm mt-3">Clients satisfaits</p>
                        </div>
                        
                        <div class="stat-card glass-card rounded-2xl p-6 shadow-xl">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-gray-500 text-sm font-medium">M√©dias</p>
                                    <p class="text-3xl font-bold text-orange-700" id="stat-media">0</p>
                                </div>
                                <div class="w-14 h-14 bg-orange-100 rounded-2xl flex items-center justify-center">
                                    <span class="material-icons text-orange-600 text-2xl">photo_library</span>
                                </div>
                            </div>
                            <p class="text-gray-400 text-sm mt-3">Images et vid√©os</p>
                        </div>
                    </div>

                    <!-- Quick Actions + Recent Messages -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <!-- Actions rapides -->
                        <div class="glass-card rounded-2xl p-6 shadow-xl">
                            <h3 class="text-xl font-bold text-gray-800 mb-6 flex items-center">
                                <span class="material-icons mr-2 text-blue-600">flash_on</span>Actions rapides
                            </h3>
                            <div class="grid grid-cols-2 gap-4">
                                <button data-goto="catalogue" class="quick-action flex flex-col items-center p-4 bg-blue-50 hover:bg-blue-100 rounded-xl transition">
                                    <span class="material-icons text-blue-600 text-3xl mb-2">add_box</span>
                                    <span class="text-blue-800 font-medium">Nouvelle annonce</span>
                                </button>
                                <button data-goto="temoignages" class="quick-action flex flex-col items-center p-4 bg-green-50 hover:bg-green-100 rounded-xl transition">
                                    <span class="material-icons text-green-600 text-3xl mb-2">person_add</span>
                                    <span class="text-green-800 font-medium">T√©moignage</span>
                                </button>
                                <button data-goto="carousel" class="quick-action flex flex-col items-center p-4 bg-purple-50 hover:bg-purple-100 rounded-xl transition">
                                    <span class="material-icons text-purple-600 text-3xl mb-2">view_carousel</span>
                                    <span class="text-purple-800 font-medium">Modifier slides</span>
                                </button>
                                <button data-goto="settings" class="quick-action flex flex-col items-center p-4 bg-orange-50 hover:bg-orange-100 rounded-xl transition">
                                    <span class="material-icons text-orange-600 text-3xl mb-2">tune</span>
                                    <span class="text-orange-800 font-medium">Param√®tres</span>
                                </button>
                            </div>
                        </div>

                        <!-- Messages r√©cents -->
                        <div class="glass-card rounded-2xl p-6 shadow-xl">
                            <h3 class="text-xl font-bold text-gray-800 mb-6 flex items-center">
                                <span class="material-icons mr-2 text-blue-600">mail</span>Messages r√©cents
                            </h3>
                            <div id="recent-messages" class="space-y-3 max-h-64 overflow-y-auto">
                                <p class="text-gray-400 text-center py-8">Aucun message pour le moment</p>
                            </div>
                            <button data-goto="messages" class="mt-4 w-full py-2 text-blue-600 hover:text-blue-800 font-medium transition">Voir tous les messages ‚Üí</button>
                        </div>
                    </div>
                </section>

                <!-- MODULE: Messages -->
                <section id="module-messages" class="module-section">
                    <div class="glass-card rounded-2xl p-6 shadow-xl">
                        <div class="flex items-center justify-between mb-6">
                            <h3 class="text-xl font-bold text-gray-800 flex items-center">
                                <span class="material-icons mr-2 text-blue-600">inbox</span>Bo√Æte de r√©ception
                            </h3>
                            <div class="flex space-x-2">
                                <button id="mark-all-read" class="px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition">
                                    <span class="material-icons align-middle text-sm mr-1">done_all</span>Tout marquer lu
                                </button>
                                <button id="clear-messages" class="px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition">
                                    <span class="material-icons align-middle text-sm mr-1">delete_sweep</span>Vider
                                </button>
                            </div>
                        </div>
                        <div id="messages-list" class="space-y-4">
                            <p class="text-gray-400 text-center py-12">Aucun message re√ßu</p>
                        </div>
                    </div>
                </section>

                <!-- MODULE: Catalogue -->
                <section id="module-catalogue" class="module-section">
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                        <div class="lg:col-span-2">
                            <div class="glass-card rounded-2xl p-6 shadow-xl">
                                <div class="flex items-center justify-between mb-6">
                                    <h3 class="text-xl font-bold text-gray-800">Annonces publi√©es</h3>
                                    <button onclick="openCatalogueModal()" class="px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-800 text-white rounded-xl font-semibold hover:from-blue-700 hover:to-blue-900 transition shadow-lg">
                                        <span class="material-icons align-middle mr-1 text-sm">add</span>Nouvelle annonce
                                    </button>
                                </div>
                                <div id="catalogue-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                                    <p class="text-gray-400 col-span-3 text-center py-8">Aucune annonce</p>
                                </div>
                            </div>
                </section>

                <!-- MODULE: Carrousel -->
                <section id="module-carousel" class="module-section">
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                        <div class="lg:col-span-2">
                            <div class="glass-card rounded-2xl p-6 shadow-xl">
                                <div class="flex items-center justify-between mb-6">
                                    <div>
                                        <h3 class="text-xl font-bold text-gray-800">Slides du carrousel</h3>
                                        <p class="text-gray-500 text-sm">Glissez-d√©posez pour r√©ordonner</p>
                                    </div>
                                    <button onclick="openCarouselModal()" class="px-4 py-2 bg-gradient-to-r from-purple-600 to-purple-800 text-white rounded-xl font-semibold hover:from-purple-700 hover:to-purple-900 transition shadow-lg">
                                        <span class="material-icons align-middle mr-1 text-sm">add</span>Nouveau slide
                                    </button>
                                </div>
                                <div id="carousel-list" class="space-y-4">
                                    <p class="text-gray-400 text-center py-8">Aucun slide configur√©</p>
                                </div>
                            </div>
                </section>

                <!-- MODULE: T√©moignages -->
                <section id="module-temoignages" class="module-section">
                            <div class="glass-card rounded-2xl p-6 shadow-xl">
                                <div class="flex items-center justify-between mb-6">
                                    <h3 class="text-xl font-bold text-gray-800">T√©moignages clients</h3>
                                    <button onclick="openTemoignageModal()" class="px-4 py-2 bg-gradient-to-r from-green-600 to-green-800 text-white rounded-xl font-semibold hover:from-green-700 hover:to-green-900 transition shadow-lg">
                                        <span class="material-icons align-middle mr-1 text-sm">add</span>Nouveau t√©moignage
                                    </button>
                                </div>
                                <div id="temoignages-list" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2">
                                    <p class="text-gray-400 col-span-3 text-center py-8">Aucun t√©moignage</p>
                                </div>
                            </div>
                </section>

                <!-- MODULE: FAQ -->
                <section id="module-faq" class="module-section">
                            <div class="glass-card rounded-2xl p-6 shadow-xl">
                                <div class="flex items-center justify-between mb-6">
                                    <h3 class="text-xl font-bold text-gray-800">Questions fr√©quentes</h3>
                                    <button onclick="openFaqModal()" class="px-4 py-2 bg-gradient-to-r from-yellow-500 to-orange-600 text-white rounded-xl font-semibold hover:from-yellow-600 hover:to-orange-700 transition shadow-lg">
                                        <span class="material-icons align-middle mr-1 text-sm">add</span>Nouvelle question
                                    </button>
                                </div>
                                <div id="faq-list" class="space-y-4">
                                    <p class="text-gray-400 text-center py-8">Aucune FAQ</p>
                                </div>
                            </div>
                </section>

                <!-- MODULE: M√©dias -->
                <section id="module-media" class="module-section">
                            <div class="glass-card rounded-2xl p-6 shadow-xl">
                                <div class="flex items-center justify-between mb-6">
                                    <h3 class="text-xl font-bold text-gray-800">Biblioth√®que de m√©dias</h3>
                                    <button onclick="openMediaModal()" class="px-4 py-2 bg-gradient-to-r from-pink-600 to-rose-600 text-white rounded-xl font-semibold hover:from-pink-700 hover:to-rose-700 transition shadow-lg">
                                        <span class="material-icons align-middle mr-1 text-sm">upload</span>Uploader m√©dia
                                    </button>
                                </div>
                                <div id="media-list" class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4">
                                    <p class="text-gray-400 col-span-6 text-center py-8">Aucun m√©dia</p>
                                </div>
                            </div>
                </section>

                <!-- MODULE: Param√®tres -->
                <section id="module-settings" class="module-section">
                    <div class="glass-card rounded-2xl p-8 shadow-xl max-w-3xl">
                        <h3 class="text-xl font-bold text-gray-800 mb-6 flex items-center">
                            <span class="material-icons mr-2 text-blue-600">settings</span>Param√®tres du site
                        </h3>
                        <form id="settings-form" class="space-y-6">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <label class="block text-gray-700 font-medium mb-2">Nom de l'entreprise</label>
                                    <input type="text" id="settings-company" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800" value="KFS BTP">
                                </div>
                                <div>
                                    <label class="block text-gray-700 font-medium mb-2">Slogan</label>
                                    <input type="text" id="settings-slogan" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800" value="B√¢tir l'avenir au S√©n√©gal">
                                </div>
                                <div>
                                    <label class="block text-gray-700 font-medium mb-2">Email</label>
                                    <input type="email" id="settings-email" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800" value="contact@btpsenegal.sn">
                                </div>
                                <div>
                                    <label class="block text-gray-700 font-medium mb-2">T√©l√©phone</label>
                                    <input type="tel" id="settings-phone" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800" value="+221 77 123 45 67">
                                </div>
                                <div>
                                    <label class="block text-gray-700 font-medium mb-2">WhatsApp</label>
                                    <input type="tel" id="settings-whatsapp" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800" value="221785842871">
                                </div>
                                <div>
                                    <label class="block text-gray-700 font-medium mb-2">Adresse</label>
                                    <input type="text" id="settings-address" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800" value="Dakar, S√©n√©gal">
                                </div>
                            </div>
                            <div>
                                <label class="block text-gray-700 font-medium mb-2">Horaires d'ouverture</label>
                                <input type="text" id="settings-hours" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800" value="Lun-Ven: 8h-18h, Sam: 9h-13h">
                            </div>
                            <h4 class="text-lg font-semibold text-gray-800 pt-4 border-t">R√©seaux sociaux</h4>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <label class="block text-gray-700 font-medium mb-2">Facebook</label>
                                    <input type="url" id="settings-facebook" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800" placeholder="https://facebook.com/...">
                                </div>
                                <div>
                                    <label class="block text-gray-700 font-medium mb-2">Instagram</label>
                                    <input type="url" id="settings-instagram" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800" placeholder="https://instagram.com/...">
                                </div>
                                <div>
                                    <label class="block text-gray-700 font-medium mb-2">LinkedIn</label>
                                    <input type="url" id="settings-linkedin" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800" placeholder="https://linkedin.com/...">
                                </div>
                            </div>
                            <button type="submit" class="w-full bg-gradient-to-r from-blue-600 to-blue-800 text-white py-4 rounded-xl font-bold text-lg hover:from-blue-700 hover:to-blue-900 transition">
                                <span class="material-icons align-middle mr-2">save</span>Sauvegarder les param√®tres
                            </button>
                        </form>
                    </div>
                </section>

                <!-- MODULE: SEO -->
                <section id="module-seo" class="module-section">
                    <div class="glass-card rounded-2xl p-8 shadow-xl max-w-3xl">
                        <h3 class="text-xl font-bold text-gray-800 mb-6 flex items-center">
                            <span class="material-icons mr-2 text-green-600">search</span>Optimisation SEO
                        </h3>
                        <form id="seo-form" class="space-y-6">
                            <div>
                                <label class="block text-gray-700 font-medium mb-2">Google Analytics ID</label>
                                <input type="text" id="seo-analytics" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800" placeholder="G-F0SXNRNGS1">
                            </div>
                            <div>
                                <label class="block text-gray-700 font-medium mb-2">Google Search Console</label>
                                <input type="text" id="seo-search-console" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800" placeholder="Code de v√©rification">
                            </div>
                            <div>
                                <label class="block text-gray-700 font-medium mb-2">Meta Description (accueil)</label>
                                <textarea id="seo-description" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800" rows="3" placeholder="Description du site pour Google..."></textarea>
                            </div>
                            <div>
                                <label class="block text-gray-700 font-medium mb-2">Mots-cl√©s</label>
                                <input type="text" id="seo-keywords" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800" placeholder="BTP, S√©n√©gal, construction, immobilier...">
                            </div>
                            <!-- Aper√ßu Google -->
                            <div class="bg-gray-50 p-4 rounded-xl border">
                                <p class="text-sm text-gray-500 mb-2">Aper√ßu Google :</p>
                                <p class="text-blue-700 text-lg font-medium" id="seo-preview-title">Accueil - KFS BTP</p>
                                <p class="text-green-700 text-sm">https://www.kfs-btp.sn</p>
                                <p class="text-gray-600 text-sm" id="seo-preview-desc">Entreprise de BTP au S√©n√©gal...</p>
                            </div>
                            <button type="submit" class="w-full bg-gradient-to-r from-green-600 to-green-800 text-white py-4 rounded-xl font-bold text-lg hover:from-green-700 hover:to-green-900 transition">
                                <span class="material-icons align-middle mr-2">save</span>Sauvegarder SEO
                            </button>
                        </form>
                    </div>
                </section>

                <!-- MODULE: Mises √† jour -->
                <section id="module-updates" class="module-section">
                    <div class="space-y-6">
                        <!-- En-t√™te avec version actuelle -->
                        <div class="bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl shadow-lg p-6 text-white">
                            <div class="flex items-center justify-between">
                                <div>
                                    <h3 class="text-2xl font-bold flex items-center">
                                        <span class="material-icons mr-3 text-3xl">system_update</span>
                                        KFS BTP - Site Web
                                    </h3>
                                    <p class="text-blue-100 mt-1">Gestion des versions et mises √† jour</p>
                                </div>
                                <div class="text-right">
                                    <p class="text-sm text-blue-200">Version actuelle</p>
                                    <p class="text-3xl font-bold" id="current-version">3.1.0</p>
                                </div>
                            </div>
                        </div>

                        <!-- Statut de mise √† jour -->
                        <div class="bg-white rounded-2xl shadow-lg p-6">
                            <h4 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
                                <span class="material-icons mr-2 text-green-600">verified</span>
                                Statut du Syst√®me
                            </h4>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <div class="bg-green-50 border border-green-200 rounded-xl p-4 text-center">
                                    <span class="material-icons text-4xl text-green-600">check_circle</span>
                                    <p class="font-semibold text-green-800 mt-2">Site √† jour</p>
                                    <p class="text-sm text-green-600">Derni√®re mise √† jour: 24/01/2026</p>
                                </div>
                                <div class="bg-blue-50 border border-blue-200 rounded-xl p-4 text-center">
                                    <span class="material-icons text-4xl text-blue-600">code</span>
                                    <p class="font-semibold text-blue-800 mt-2">HTML/CSS/JS</p>
                                    <p class="text-sm text-blue-600">Site statique optimis√©</p>
                                </div>
                                <div class="bg-purple-50 border border-purple-200 rounded-xl p-4 text-center">
                                    <span class="material-icons text-4xl text-purple-600">storage</span>
                                    <p class="font-semibold text-purple-800 mt-2">LocalStorage</p>
                                    <p class="text-sm text-purple-600">Donn√©es s√©curis√©es</p>
                                </div>
                            </div>
                        </div>

                        <!-- Changelog -->
                        <div class="bg-white rounded-2xl shadow-lg p-6">
                            <h4 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
                                <span class="material-icons mr-2 text-indigo-600">history</span>
                                Historique des Versions
                            </h4>
                            <div id="changelog-list" class="space-y-4 max-h-96 overflow-y-auto pr-2">
                                <!-- Version 3.1.0 -->
                                <div class="border-l-4 border-green-500 pl-4 py-2">
                                    <div class="flex items-center justify-between">
                                        <span class="bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm font-bold">v3.1.0</span>
                                        <span class="text-gray-500 text-sm">24 Janvier 2026</span>
                                    </div>
                                    <h5 class="font-semibold text-gray-800 mt-2">üöÄ Module Maintenance & Monitoring</h5>
                                    <ul class="text-sm text-gray-600 mt-2 space-y-1">
                                        <li>‚úÖ Page de maintenance professionnelle</li>
                                        <li>‚úÖ Syst√®me de logs d'erreurs</li>
                                        <li>‚úÖ Module mises √† jour avec changelog</li>
                                        <li>‚úÖ Diagnostic syst√®me int√©gr√©</li>
                                    </ul>
                                </div>
                                
                                <!-- Version 3.0.0 -->
                                <div class="border-l-4 border-blue-500 pl-4 py-2">
                                    <div class="flex items-center justify-between">
                                        <span class="bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm font-bold">v3.0.0</span>
                                        <span class="text-gray-500 text-sm">23 Janvier 2026</span>
                                    </div>
                                    <h5 class="font-semibold text-gray-800 mt-2">üé® Optimisation Production</h5>
                                    <ul class="text-sm text-gray-600 mt-2 space-y-1">
                                        <li>‚úÖ Images renomm√©es (SEO-friendly)</li>
                                        <li>‚úÖ URLs unifi√©es (kfs-btp.sn)</li>
                                        <li>‚úÖ Sitemap et robots.txt optimis√©s</li>
                                        <li>‚úÖ PWA manifest corrig√©</li>
                                        <li>‚úÖ Informations de contact mises √† jour</li>
                                    </ul>
                                </div>
                                
                                <!-- Version 2.5.0 -->
                                <div class="border-l-4 border-purple-500 pl-4 py-2">
                                    <div class="flex items-center justify-between">
                                        <span class="bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-sm font-bold">v2.5.0</span>
                                        <span class="text-gray-500 text-sm">20 Janvier 2026</span>
                                    </div>
                                    <h5 class="font-semibold text-gray-800 mt-2">üíº Gestion Entreprise</h5>
                                    <ul class="text-sm text-gray-600 mt-2 space-y-1">
                                        <li>‚úÖ Module Comptabilit√© avanc√©e</li>
                                        <li>‚úÖ CRM Clients int√©gr√©</li>
                                        <li>‚úÖ Gestion des employ√©s</li>
                                        <li>‚úÖ Suivi des projets</li>
                                    </ul>
                                </div>
                                
                                <!-- Version 2.0.0 -->
                                <div class="border-l-4 border-yellow-500 pl-4 py-2">
                                    <div class="flex items-center justify-between">
                                        <span class="bg-yellow-100 text-yellow-700 px-3 py-1 rounded-full text-sm font-bold">v2.0.0</span>
                                        <span class="text-gray-500 text-sm">15 Janvier 2026</span>
                                    </div>
                                    <h5 class="font-semibold text-gray-800 mt-2">üè† Dashboard Admin</h5>
                                    <ul class="text-sm text-gray-600 mt-2 space-y-1">
                                        <li>‚úÖ Interface admin moderne</li>
                                        <li>‚úÖ Gestion du catalogue immobilier</li>
                                        <li>‚úÖ Module t√©moignages</li>
                                        <li>‚úÖ Gestion des messages</li>
                                    </ul>
                                </div>
                                
                                <!-- Version 1.0.0 -->
                                <div class="border-l-4 border-gray-400 pl-4 py-2">
                                    <div class="flex items-center justify-between">
                                        <span class="bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm font-bold">v1.0.0</span>
                                        <span class="text-gray-500 text-sm">10 Janvier 2026</span>
                                    </div>
                                    <h5 class="font-semibold text-gray-800 mt-2">üéâ Lancement Initial</h5>
                                    <ul class="text-sm text-gray-600 mt-2 space-y-1">
                                        <li>‚úÖ Site vitrine KFS BTP</li>
                                        <li>‚úÖ Pages services (vente, location, r√©novation)</li>
                                        <li>‚úÖ Formulaire de contact</li>
                                        <li>‚úÖ Design responsive Tailwind CSS</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- Notes de mise √† jour -->
                        <div class="bg-white rounded-2xl shadow-lg p-6">
                            <h4 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
                                <span class="material-icons mr-2 text-orange-600">edit_note</span>
                                Ajouter une Note de Version
                            </h4>
                            <form id="update-note-form" class="space-y-4">
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Num√©ro de version</label>
                                        <input type="text" id="update-version" class="w-full px-4 py-2 border border-gray-200 rounded-xl" placeholder="ex: 3.2.0" required>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Type de mise √† jour</label>
                                        <select id="update-type" class="w-full px-4 py-2 border border-gray-200 rounded-xl">
                                            <option value="feature">üöÄ Nouvelle fonctionnalit√©</option>
                                            <option value="fix">üêõ Correction de bug</option>
                                            <option value="improvement">‚ö° Am√©lioration</option>
                                            <option value="security">üîí S√©curit√©</option>
                                        </select>
                                    </div>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Titre</label>
                                    <input type="text" id="update-title" class="w-full px-4 py-2 border border-gray-200 rounded-xl" placeholder="Titre de la mise √† jour" required>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">D√©tails (un par ligne)</label>
                                    <textarea id="update-details" rows="4" class="w-full px-4 py-2 border border-gray-200 rounded-xl" placeholder="- Fonctionnalit√© 1&#10;- Fonctionnalit√© 2&#10;- Correction bug X"></textarea>
                                </div>
                                <button type="submit" class="w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 rounded-xl font-semibold hover:from-indigo-700 hover:to-purple-700 transition">
                                    <span class="material-icons align-middle mr-2">add</span>
                                    Enregistrer la mise √† jour
                                </button>
                            </form>
                        </div>

                        <!-- Actions rapides -->
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="bg-white rounded-2xl shadow-lg p-6">
                                <h4 class="font-bold text-gray-800 mb-3 flex items-center">
                                    <span class="material-icons mr-2 text-blue-600">refresh</span>
                                    Vider le Cache
                                </h4>
                                <p class="text-gray-600 text-sm mb-4">Force le rechargement des ressources pour voir les derni√®res modifications</p>
                                <button onclick="clearAllCaches()" class="w-full bg-blue-100 text-blue-700 py-3 rounded-xl font-semibold hover:bg-blue-200 transition">
                                    Vider le cache navigateur
                                </button>
                            </div>
                            <div class="bg-white rounded-2xl shadow-lg p-6">
                                <h4 class="font-bold text-gray-800 mb-3 flex items-center">
                                    <span class="material-icons mr-2 text-green-600">cloud_sync</span>
                                    Service Worker
                                </h4>
                                <p class="text-gray-600 text-sm mb-4">Met √† jour le service worker pour la derni√®re version du site</p>
                                <button onclick="updateServiceWorker()" class="w-full bg-green-100 text-green-700 py-3 rounded-xl font-semibold hover:bg-green-200 transition">
                                    Mettre √† jour le SW
                                </button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- MODULE: Maintenance -->
                <section id="module-maintenance" class="module-section">
                    <div id="maintenance-content" class="space-y-6">
                        <!-- √âtat du site -->
                        <div class="bg-white rounded-2xl shadow-lg p-6">
                            <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
                                <span class="material-icons mr-2 text-blue-600">monitor_heart</span>
                                √âtat du Site
                            </h3>
                            <div id="health-status" class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <div class="bg-green-50 border border-green-200 rounded-xl p-4 text-center">
                                    <div class="text-3xl mb-2">üü¢</div>
                                    <p class="font-semibold text-green-800">Site en ligne</p>
                                    <p class="text-sm text-green-600">Op√©rationnel</p>
                                </div>
                                <div class="bg-blue-50 border border-blue-200 rounded-xl p-4 text-center">
                                    <div class="text-3xl mb-2">üíæ</div>
                                    <p class="font-semibold text-blue-800">LocalStorage</p>
                                    <p class="text-sm text-blue-600" id="storage-usage">Calcul...</p>
                                </div>
                                <div class="bg-purple-50 border border-purple-200 rounded-xl p-4 text-center">
                                    <div class="text-3xl mb-2">‚ö°</div>
                                    <p class="font-semibold text-purple-800">Service Worker</p>
                                    <p class="text-sm text-purple-600" id="sw-status">V√©rification...</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Mode Maintenance -->
                        <div class="bg-white rounded-2xl shadow-lg p-6">
                            <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
                                <span class="material-icons mr-2 text-yellow-600">engineering</span>
                                Mode Maintenance
                            </h3>
                            <div class="flex items-center justify-between p-4 bg-gray-50 rounded-xl">
                                <div>
                                    <p class="font-semibold text-gray-800">Activer le mode maintenance</p>
                                    <p class="text-sm text-gray-500">Les visiteurs verront une page d'attente</p>
                                </div>
                                <label class="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" id="maintenance-toggle" class="sr-only peer">
                                    <div class="w-14 h-7 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-yellow-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[4px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:bg-yellow-500"></div>
                                </label>
                            </div>
                            <div id="maintenance-options" class="hidden mt-4 space-y-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Message personnalis√©</label>
                                    <textarea id="maintenance-message" rows="2" class="w-full px-4 py-2 border border-gray-200 rounded-xl" placeholder="Nous effectuons une maintenance..."></textarea>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Dur√©e estim√©e (heures)</label>
                                    <input type="number" id="maintenance-duration" class="w-full px-4 py-2 border border-gray-200 rounded-xl" value="2" min="1" max="48">
                                </div>
                                <button onclick="activateMaintenance()" class="w-full bg-yellow-500 hover:bg-yellow-600 text-white font-semibold py-3 rounded-xl transition">
                                    Appliquer le mode maintenance
                                </button>
                            </div>
                        </div>
                        
                        <!-- Logs d'erreurs -->
                        <div class="bg-white rounded-2xl shadow-lg p-6">
                            <div class="flex justify-between items-center mb-4">
                                <h3 class="text-xl font-bold text-gray-800 flex items-center">
                                    <span class="material-icons mr-2 text-red-600">bug_report</span>
                                    Logs d'Erreurs
                                </h3>
                                <div class="flex gap-2">
                                    <button onclick="refreshErrorLogs()" class="px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition" title="Actualiser">
                                        <span class="material-icons text-sm">refresh</span>
                                    </button>
                                    <button onclick="exportErrorLogs()" class="px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition" title="Exporter">
                                        <span class="material-icons text-sm">download</span>
                                    </button>
                                    <button onclick="clearErrorLogs()" class="px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition" title="Supprimer">
                                        <span class="material-icons text-sm">delete</span>
                                    </button>
                                </div>
                            </div>
                            <div id="error-logs-list" class="space-y-2 max-h-96 overflow-y-auto">
                                <p class="text-gray-500 text-center py-8">Aucune erreur enregistr√©e ‚úÖ</p>
                            </div>
                        </div>
                        
                        <!-- Actions de d√©pannage -->
                        <div class="bg-white rounded-2xl shadow-lg p-6">
                            <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
                                <span class="material-icons mr-2 text-indigo-600">build</span>
                                Actions de D√©pannage
                            </h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <button onclick="clearCache()" class="flex items-center justify-center gap-3 p-4 bg-blue-50 hover:bg-blue-100 rounded-xl transition">
                                    <span class="material-icons text-blue-600">cached</span>
                                    <div class="text-left">
                                        <p class="font-semibold text-gray-800">Vider le cache</p>
                                        <p class="text-sm text-gray-500">Service Worker et caches</p>
                                    </div>
                                </button>
                                <button onclick="reloadServiceWorker()" class="flex items-center justify-center gap-3 p-4 bg-purple-50 hover:bg-purple-100 rounded-xl transition">
                                    <span class="material-icons text-purple-600">sync</span>
                                    <div class="text-left">
                                        <p class="font-semibold text-gray-800">Recharger SW</p>
                                        <p class="text-sm text-gray-500">Mettre √† jour le Service Worker</p>
                                    </div>
                                </button>
                                <button onclick="testConnectivity()" class="flex items-center justify-center gap-3 p-4 bg-green-50 hover:bg-green-100 rounded-xl transition">
                                    <span class="material-icons text-green-600">wifi</span>
                                    <div class="text-left">
                                        <p class="font-semibold text-gray-800">Test connectivit√©</p>
                                        <p class="text-sm text-gray-500">V√©rifier la connexion</p>
                                    </div>
                                </button>
                                <button onclick="runDiagnostics()" class="flex items-center justify-center gap-3 p-4 bg-yellow-50 hover:bg-yellow-100 rounded-xl transition">
                                    <span class="material-icons text-yellow-600">troubleshoot</span>
                                    <div class="text-left">
                                        <p class="font-semibold text-gray-800">Diagnostic complet</p>
                                        <p class="text-sm text-gray-500">Analyser tout le syst√®me</p>
                                    </div>
                                </button>
                            </div>
                        </div>
                        
                        <!-- Lien vers la page de maintenance -->
                        <div class="bg-gradient-to-r from-yellow-500 to-orange-500 rounded-2xl shadow-lg p-6 text-white">
                            <h3 class="text-xl font-bold mb-2 flex items-center">
                                <span class="material-icons mr-2">preview</span>
                                Pr√©visualiser la page de maintenance
                            </h3>
                            <p class="text-yellow-100 mb-4">Voir ce que les visiteurs verront pendant la maintenance</p>
                            <a href="maintenance.html" target="_blank" class="inline-flex items-center px-6 py-3 bg-white text-yellow-600 font-semibold rounded-xl hover:bg-yellow-50 transition">
                                <span class="material-icons mr-2">open_in_new</span>
                                Ouvrir maintenance.html
                            </a>
                        </div>
                    </div>
                </section>

                <!-- MODULE: Sauvegarde -->
                <section id="module-backup" class="module-section">
                    <div class="glass-card rounded-2xl p-8 shadow-xl max-w-2xl">
                        <h3 class="text-xl font-bold text-gray-800 mb-6 flex items-center">
                            <span class="material-icons mr-2 text-blue-600">backup</span>Sauvegarde & Restauration
                        </h3>
                        <div class="space-y-6">
                            <div class="p-6 bg-blue-50 rounded-xl border border-blue-200">
                                <h4 class="font-semibold text-blue-800 mb-3">Exporter les donn√©es</h4>
                                <p class="text-blue-600 text-sm mb-4">T√©l√©chargez une sauvegarde compl√®te de vos donn√©es (annonces, t√©moignages, param√®tres...)</p>
                                <button id="backup-export" class="px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition">
                                    <span class="material-icons align-middle mr-1">download</span>T√©l√©charger la sauvegarde
                                </button>
                            </div>
                            <div class="p-6 bg-green-50 rounded-xl border border-green-200">
                                <h4 class="font-semibold text-green-800 mb-3">Importer des donn√©es</h4>
                                <p class="text-green-600 text-sm mb-4">Restaurez vos donn√©es √† partir d'un fichier de sauvegarde</p>
                                <input type="file" id="backup-import" accept=".json" class="mb-3">
                                <p id="backup-message" class="text-sm"></p>
                            </div>
                            <div class="p-6 bg-red-50 rounded-xl border border-red-200">
                                <h4 class="font-semibold text-red-800 mb-3">R√©initialiser</h4>
                                <p class="text-red-600 text-sm mb-4">‚ö†Ô∏è Attention : cette action supprimera toutes vos donn√©es</p>
                                <button id="backup-reset" class="px-6 py-3 bg-red-600 text-white rounded-xl font-semibold hover:bg-red-700 transition">
                                    <span class="material-icons align-middle mr-1">delete_forever</span>Tout supprimer
                                </button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- MODULE: S√©curit√© -->
                <section id="module-security" class="module-section">
                    <div class="glass-card rounded-2xl p-8 shadow-xl max-w-xl">
                        <h3 class="text-xl font-bold text-gray-800 mb-6 flex items-center">
                            <span class="material-icons mr-2 text-red-600">security</span>S√©curit√©
                        </h3>
                        <form id="security-form" class="space-y-6">
                            <div>
                                <label class="block text-gray-700 font-medium mb-2">Nouveau mot de passe</label>
                                <input type="password" id="security-password" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800" minlength="6" required>
                            </div>
                            <div>
                                <label class="block text-gray-700 font-medium mb-2">Confirmer le mot de passe</label>
                                <input type="password" id="security-password-confirm" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800" minlength="6" required>
                            </div>
                            <p id="security-message" class="text-sm"></p>
                            <button type="submit" class="w-full bg-gradient-to-r from-blue-600 to-blue-800 text-white py-4 rounded-xl font-bold hover:from-blue-700 hover:to-blue-900 transition">
                                <span class="material-icons align-middle mr-2">lock</span>Changer le mot de passe
                            </button>
                        </form>
                        <div class="mt-6 pt-6 border-t">
                            <button id="security-reset" class="w-full bg-red-100 text-red-700 py-3 rounded-xl font-semibold hover:bg-red-200 transition">
                                R√©initialiser √† "admin123"
                            </button>
                        </div>
                    </div>
                </section>

                <!-- MODULE: Rendez-vous -->
                <section id="module-rdv" class="module-section">
                    <div class="glass-card rounded-2xl p-6 shadow-xl mb-6">
                        <div class="flex items-center justify-between mb-6">
                            <div class="flex items-center">
                                <span class="material-icons text-3xl text-green-600 mr-3">calendar_month</span>
                                <div>
                                    <h3 class="text-xl font-bold text-gray-800">Gestion des Rendez-vous</h3>
                                    <span class="text-gray-500" id="rdv-count">0 RDV</span>
                                </div>
                            </div>
                            <button onclick="openRdvModal()" class="flex items-center px-6 py-3 bg-gradient-to-r from-green-600 to-green-800 text-white rounded-xl font-bold hover:from-green-700 hover:to-green-900 transition shadow-lg">
                                <span class="material-icons mr-2">event_available</span>
                                Nouveau RDV
                            </button>
                        </div>
                        
                        <!-- Calendrier -->
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center space-x-2">
                                <button id="cal-prev" class="p-2 hover:bg-gray-100 rounded-lg transition">
                                    <span class="material-icons text-gray-600">chevron_left</span>
                                </button>
                                <span id="cal-month-year" class="font-bold text-gray-800 min-w-[180px] text-center text-lg"></span>
                                <button id="cal-next" class="p-2 hover:bg-gray-100 rounded-lg transition">
                                    <span class="material-icons text-gray-600">chevron_right</span>
                                </button>
                            </div>
                            <button onclick="goToToday()" class="px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition font-medium">
                                <span class="material-icons align-middle text-sm mr-1">today</span>Aujourd'hui
                            </button>
                        </div>
                        <div class="calendar-grid mb-2">
                            <div class="text-center text-sm font-semibold text-gray-500 py-2">Lun</div>
                            <div class="text-center text-sm font-semibold text-gray-500 py-2">Mar</div>
                            <div class="text-center text-sm font-semibold text-gray-500 py-2">Mer</div>
                            <div class="text-center text-sm font-semibold text-gray-500 py-2">Jeu</div>
                            <div class="text-center text-sm font-semibold text-gray-500 py-2">Ven</div>
                            <div class="text-center text-sm font-semibold text-gray-500 py-2">Sam</div>
                            <div class="text-center text-sm font-semibold text-gray-500 py-2">Dim</div>
                        </div>
                        <div id="calendar-days" class="calendar-grid"></div>
                    </div>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <!-- Liste des RDV du jour -->
                        <div class="glass-card rounded-2xl p-6 shadow-xl">
                            <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
                                <span class="material-icons mr-2 text-blue-600">today</span>
                                RDV du <span id="rdv-selected-date" class="ml-2 text-blue-600"></span>
                            </h3>
                            <div id="rdv-day-list" class="space-y-3 max-h-96 overflow-y-auto">
                                <p class="text-gray-400 text-center py-8">S√©lectionnez une date sur le calendrier</p>
                            </div>
                        </div>
                        
                        <!-- Prochains RDV -->
                        <div class="glass-card rounded-2xl p-6 shadow-xl">
                            <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
                                <span class="material-icons mr-2 text-amber-600">schedule</span>Prochains RDV
                            </h3>
                            <div id="rdv-upcoming" class="space-y-3 max-h-96 overflow-y-auto">
                                <p class="text-gray-400 text-center py-8">Aucun RDV √† venir</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- MODULE: Analytics -->
                <section id="module-analytics" class="module-section">
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                        <!-- Graphique Messages -->
                        <div class="glass-card rounded-2xl p-6 shadow-xl">
                            <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
                                <span class="material-icons mr-2 text-blue-600">show_chart</span>Messages re√ßus
                            </h3>
                            <div class="chart-container">
                                <canvas id="chart-messages"></canvas>
                            </div>
                        </div>
                        
                        <!-- Graphique Services -->
                        <div class="glass-card rounded-2xl p-6 shadow-xl">
                            <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
                                <span class="material-icons mr-2 text-purple-600">pie_chart</span>Demandes par service
                            </h3>
                            <div class="chart-container">
                                <canvas id="chart-services"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8">
                        <!-- Stats r√©sum√© -->
                        <div class="glass-card rounded-2xl p-6 shadow-xl">
                            <div class="text-center">
                                <span class="material-icons text-5xl text-blue-500 mb-2">trending_up</span>
                                <p class="text-4xl font-bold text-gray-800" id="analytics-total-messages">0</p>
                                <p class="text-gray-500">Total messages</p>
                            </div>
                        </div>
                        <div class="glass-card rounded-2xl p-6 shadow-xl">
                            <div class="text-center">
                                <span class="material-icons text-5xl text-green-500 mb-2">event_available</span>
                                <p class="text-4xl font-bold text-gray-800" id="analytics-total-rdv">0</p>
                                <p class="text-gray-500">Total RDV</p>
                            </div>
                        </div>
                        <div class="glass-card rounded-2xl p-6 shadow-xl">
                            <div class="text-center">
                                <span class="material-icons text-5xl text-orange-500 mb-2">percent</span>
                                <p class="text-4xl font-bold text-gray-800" id="analytics-conversion">0%</p>
                                <p class="text-gray-500">Taux de conversion</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Export des donn√©es -->
                    <div class="glass-card rounded-2xl p-6 shadow-xl">
                        <h3 class="text-xl font-bold text-gray-800 mb-6 flex items-center">
                            <span class="material-icons mr-2 text-green-600">download</span>Export des donn√©es
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                            <button id="export-messages-csv" class="flex items-center justify-center p-4 bg-blue-50 hover:bg-blue-100 rounded-xl transition">
                                <span class="material-icons text-blue-600 mr-2">mail</span>
                                <span class="text-blue-800 font-medium">Messages CSV</span>
                            </button>
                            <button id="export-rdv-csv" class="flex items-center justify-center p-4 bg-green-50 hover:bg-green-100 rounded-xl transition">
                                <span class="material-icons text-green-600 mr-2">event</span>
                                <span class="text-green-800 font-medium">RDV CSV</span>
                            </button>
                            <button id="export-annonces-csv" class="flex items-center justify-center p-4 bg-purple-50 hover:bg-purple-100 rounded-xl transition">
                                <span class="material-icons text-purple-600 mr-2">inventory_2</span>
                                <span class="text-purple-800 font-medium">Annonces CSV</span>
                            </button>
                            <button id="export-all-excel" class="flex items-center justify-center p-4 bg-orange-50 hover:bg-orange-100 rounded-xl transition">
                                <span class="material-icons text-orange-600 mr-2">table_view</span>
                                <span class="text-orange-800 font-medium">Tout (Excel)</span>
                            </button>
                        </div>
                    </div>
                </section>

                <!-- MODULE: Comptabilit√© -->
                <section id="module-comptabilite" class="module-section">
                    <!-- R√©sum√© financier -->
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                        <div class="glass-card rounded-2xl p-6 shadow-xl border-l-4 border-green-500">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-gray-500 text-sm">Revenus (mois)</p>
                                    <p class="text-3xl font-bold text-green-600" id="compta-revenus-mois">0 FCFA</p>
                                </div>
                                <span class="material-icons text-green-500 text-4xl">trending_up</span>
                            </div>
                        </div>
                        <div class="glass-card rounded-2xl p-6 shadow-xl border-l-4 border-red-500">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-gray-500 text-sm">D√©penses (mois)</p>
                                    <p class="text-3xl font-bold text-red-600" id="compta-depenses-mois">0 FCFA</p>
                                </div>
                                <span class="material-icons text-red-500 text-4xl">trending_down</span>
                            </div>
                        </div>
                        <div class="glass-card rounded-2xl p-6 shadow-xl border-l-4 border-blue-500">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-gray-500 text-sm">B√©n√©fice net</p>
                                    <p class="text-3xl font-bold text-blue-600" id="compta-benefice">0 FCFA</p>
                                </div>
                                <span class="material-icons text-blue-500 text-4xl">account_balance_wallet</span>
                            </div>
                        </div>
                        <div class="glass-card rounded-2xl p-6 shadow-xl border-l-4 border-yellow-500">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-gray-500 text-sm">Transactions ce mois</p>
                                    <p class="text-3xl font-bold text-yellow-600" id="compta-transactions">0</p>
                                </div>
                                <span class="material-icons text-yellow-500 text-4xl">receipt</span>
                            </div>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <!-- Revenus -->
                        <div class="glass-card rounded-2xl p-6 shadow-xl">
                            <div class="flex items-center justify-between mb-6">
                                <h3 class="text-xl font-bold text-gray-800 flex items-center">
                                    <span class="material-icons mr-2 text-green-600">arrow_upward</span>Revenus
                                </h3>
                                <button onclick="openTransactionModal('revenu')" class="px-4 py-2 bg-green-500 text-white rounded-xl hover:bg-green-600 transition">
                                    <span class="material-icons align-middle text-sm">add</span> Ajouter
                                </button>
                            </div>
                            <div id="revenus-list" class="space-y-3 max-h-80 overflow-y-auto">
                                <p class="text-gray-400 text-center py-8">Aucun revenu enregistr√©</p>
                            </div>
                        </div>

                        <!-- D√©penses -->
                        <div class="glass-card rounded-2xl p-6 shadow-xl">
                            <div class="flex items-center justify-between mb-6">
                                <h3 class="text-xl font-bold text-gray-800 flex items-center">
                                    <span class="material-icons mr-2 text-red-600">arrow_downward</span>D√©penses
                                </h3>
                                <button onclick="openTransactionModal('depense')" class="px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition">
                                    <span class="material-icons align-middle text-sm">add</span> Ajouter
                                </button>
                            </div>
                            <div id="depenses-list" class="space-y-3 max-h-80 overflow-y-auto">
                                <p class="text-gray-400 text-center py-8">Aucune d√©pense enregistr√©e</p>
                            </div>
                        </div>
                    </div>

                    <!-- Graphique -->
                    <div class="glass-card rounded-2xl p-6 shadow-xl mt-8">
                        <h3 class="text-xl font-bold text-gray-800 mb-4">√âvolution financi√®re</h3>
                        <div class="chart-container" style="height: 300px;">
                            <canvas id="chart-finances"></canvas>
                        </div>
                    </div>
                </section>

                <!-- MODULE: Bilans -->
                <section id="module-bilans" class="module-section">
                    <div class="glass-card rounded-2xl p-6 shadow-xl mb-8">
                        <div class="flex items-center justify-between mb-6">
                            <h3 class="text-xl font-bold text-gray-800">Bilans financiers</h3>
                            <div class="flex space-x-2">
                                <select id="bilan-periode" class="px-4 py-2 border-2 border-gray-200 rounded-xl text-gray-800">
                                    <option value="mois">Ce mois</option>
                                    <option value="trimestre">Ce trimestre</option>
                                    <option value="annee">Cette ann√©e</option>
                                    <option value="custom">Personnalis√©</option>
                                </select>
                                <button id="generate-bilan-pdf" class="px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition">
                                    <span class="material-icons align-middle text-sm">picture_as_pdf</span> PDF
                                </button>
                                <button id="print-bilan" class="px-4 py-2 bg-gray-500 text-white rounded-xl hover:bg-gray-600 transition">
                                    <span class="material-icons align-middle text-sm">print</span> Imprimer
                                </button>
                            </div>
                        </div>

                        <!-- P√©riode personnalis√©e -->
                        <div id="bilan-custom-dates" class="hidden mb-6 flex space-x-4">
                            <input type="date" id="bilan-date-debut" class="px-4 py-2 border-2 border-gray-200 rounded-xl text-gray-800">
                            <input type="date" id="bilan-date-fin" class="px-4 py-2 border-2 border-gray-200 rounded-xl text-gray-800">
                            <button onclick="generateBilan()" class="px-4 py-2 bg-blue-500 text-white rounded-xl">G√©n√©rer</button>
                        </div>

                        <!-- R√©sum√© du bilan -->
                        <div id="bilan-content">
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                                <div class="bg-green-50 rounded-xl p-6 border border-green-200">
                                    <h4 class="text-green-800 font-semibold mb-2">Total Revenus</h4>
                                    <p class="text-3xl font-bold text-green-600" id="bilan-total-revenus">0 FCFA</p>
                                    <p class="text-sm text-green-600 mt-2" id="bilan-nb-revenus">0 transactions</p>
                                </div>
                                <div class="bg-red-50 rounded-xl p-6 border border-red-200">
                                    <h4 class="text-red-800 font-semibold mb-2">Total D√©penses</h4>
                                    <p class="text-3xl font-bold text-red-600" id="bilan-total-depenses">0 FCFA</p>
                                    <p class="text-sm text-red-600 mt-2" id="bilan-nb-depenses">0 transactions</p>
                                </div>
                                <div class="bg-blue-50 rounded-xl p-6 border border-blue-200">
                                    <h4 class="text-blue-800 font-semibold mb-2">R√©sultat Net</h4>
                                    <p class="text-3xl font-bold" id="bilan-resultat">0 FCFA</p>
                                    <p class="text-sm text-blue-600 mt-2" id="bilan-marge">Marge: 0%</p>
                                </div>
                            </div>

                            <!-- D√©tails par cat√©gorie -->
                            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                                <div>
                                    <h4 class="font-bold text-gray-800 mb-4">Revenus par cat√©gorie</h4>
                                    <div id="bilan-revenus-categories" class="space-y-3"></div>
                                </div>
                                <div>
                                    <h4 class="font-bold text-gray-800 mb-4">D√©penses par cat√©gorie</h4>
                                    <div id="bilan-depenses-categories" class="space-y-3"></div>
                                </div>
                            </div>

                            <!-- Graphique du bilan -->
                            <div class="mt-8">
                                <h4 class="font-bold text-gray-800 mb-4">√âvolution sur la p√©riode</h4>
                                <div class="chart-container" style="height: 300px;">
                                    <canvas id="chart-bilan"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- MODULE: CRM Clients -->
                <section id="module-clients" class="module-section">
                    <div class="glass-card rounded-2xl p-6 shadow-xl">
                        <div class="flex items-center justify-between mb-6">
                            <div class="flex items-center">
                                <span class="material-icons text-3xl text-blue-600 mr-3">group</span>
                                <div>
                                    <h3 class="text-xl font-bold text-gray-800">Gestion des Clients (CRM)</h3>
                                    <span class="text-gray-500" id="clients-count">0 clients</span>
                                </div>
                            </div>
                            <button onclick="openClientModal()" class="flex items-center px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-800 text-white rounded-xl font-bold hover:from-blue-700 hover:to-blue-900 transition shadow-lg">
                                <span class="material-icons mr-2">person_add</span>
                                Nouveau client
                            </button>
                        </div>
                        
                        <!-- Filtres -->
                        <div class="flex flex-wrap gap-3 mb-6">
                            <input type="text" id="client-search" placeholder="Rechercher un client..." class="px-4 py-2 bg-white border-2 border-gray-200 rounded-xl text-gray-800 flex-1 min-w-48">
                            <select id="client-filter-type" class="px-4 py-2 bg-white border-2 border-gray-200 rounded-xl text-gray-800">
                                <option value="all">Tous les types</option>
                                <option value="particulier">Particuliers</option>
                                <option value="entreprise">Entreprises</option>
                            </select>
                            <select id="client-filter" class="px-4 py-2 bg-white border-2 border-gray-200 rounded-xl text-gray-800">
                                <option value="all">Tous les statuts</option>
                                <option value="prospect">Prospects</option>
                                <option value="actif">Actifs</option>
                                <option value="en_negociation">En n√©gociation</option>
                                <option value="vip">VIP</option>
                                <option value="inactif">Inactifs</option>
                            </select>
                        </div>
                        
                        <div id="clients-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                            <p class="text-gray-400 col-span-full text-center py-12">Aucun client enregistr√©</p>
                        </div>
                    </div>
                    
                    <!-- Stats rapides -->
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-6">
                        <div class="glass-card rounded-xl p-4 text-center">
                            <span class="material-icons text-2xl text-yellow-500">pending</span>
                            <p class="text-2xl font-bold text-gray-800" id="clients-prospects">0</p>
                            <p class="text-sm text-gray-500">Prospects</p>
                        </div>
                        <div class="glass-card rounded-xl p-4 text-center">
                            <span class="material-icons text-2xl text-green-500">check_circle</span>
                            <p class="text-2xl font-bold text-gray-800" id="clients-actifs">0</p>
                            <p class="text-sm text-gray-500">Actifs</p>
                        </div>
                        <div class="glass-card rounded-xl p-4 text-center">
                            <span class="material-icons text-2xl text-blue-500">handshake</span>
                            <p class="text-2xl font-bold text-gray-800" id="clients-negociation">0</p>
                            <p class="text-sm text-gray-500">En n√©gociation</p>
                        </div>
                        <div class="glass-card rounded-xl p-4 text-center">
                            <span class="material-icons text-2xl text-amber-500">star</span>
                            <p class="text-2xl font-bold text-gray-800" id="clients-vip">0</p>
                            <p class="text-sm text-gray-500">VIP</p>
                        </div>
                    </div>
                </section>

                <!-- MODULE: Projets/Chantiers -->
                <section id="module-projets" class="module-section">
                    <div class="glass-card rounded-2xl p-6 shadow-xl">
                        <div class="flex items-center justify-between mb-6">
                            <div class="flex items-center">
                                <span class="material-icons text-3xl text-orange-600 mr-3">construction</span>
                                <div>
                                    <h3 class="text-xl font-bold text-gray-800">Projets & Chantiers</h3>
                                    <span class="text-gray-500" id="projets-count">0 projets</span>
                                </div>
                            </div>
                            <button onclick="openProjetModal()" class="flex items-center px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-700 text-white rounded-xl font-bold hover:from-orange-600 hover:to-orange-800 transition shadow-lg">
                                <span class="material-icons mr-2">add_task</span>
                                Nouveau projet
                            </button>
                        </div>
                        
                        <!-- Filtres -->
                        <div class="flex flex-wrap gap-3 mb-6">
                            <input type="text" id="projet-search" placeholder="Rechercher un projet..." class="px-4 py-2 bg-white border-2 border-gray-200 rounded-xl text-gray-800 flex-1 min-w-48">
                            <select id="projet-filter" class="px-4 py-2 bg-white border-2 border-gray-200 rounded-xl text-gray-800">
                                <option value="all">Tous les statuts</option>
                                <option value="planifie">Planifi√©s</option>
                                <option value="en_cours">En cours</option>
                                <option value="termine">Termin√©s</option>
                                <option value="suspendu">Suspendus</option>
                            </select>
                            <select id="projet-filter-type" class="px-4 py-2 bg-white border-2 border-gray-200 rounded-xl text-gray-800">
                                <option value="all">Tous les types</option>
                                <option value="renovation">R√©novation</option>
                                <option value="construction">Construction</option>
                                <option value="amenagement">Am√©nagement</option>
                            </select>
                        </div>
                        
                        <div id="projets-list" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <p class="text-gray-400 col-span-full text-center py-12">Aucun projet enregistr√©</p>
                        </div>
                    </div>
                    
                    <!-- Stats rapides -->
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-6">
                        <div class="glass-card rounded-xl p-4 text-center">
                            <span class="material-icons text-2xl text-blue-500">pending</span>
                            <p class="text-2xl font-bold text-gray-800" id="projets-planifies">0</p>
                            <p class="text-sm text-gray-500">Planifi√©s</p>
                        </div>
                        <div class="glass-card rounded-xl p-4 text-center">
                            <span class="material-icons text-2xl text-green-500">play_circle</span>
                            <p class="text-2xl font-bold text-gray-800" id="projets-en-cours">0</p>
                            <p class="text-sm text-gray-500">En cours</p>
                        </div>
                        <div class="glass-card rounded-xl p-4 text-center">
                            <span class="material-icons text-2xl text-emerald-500">check_circle</span>
                            <p class="text-2xl font-bold text-gray-800" id="projets-termines">0</p>
                            <p class="text-sm text-gray-500">Termin√©s</p>
                        </div>
                        <div class="glass-card rounded-xl p-4 text-center">
                            <span class="material-icons text-2xl text-amber-500">payments</span>
                            <p class="text-lg font-bold text-gray-800" id="projets-budget-total">0 FCFA</p>
                            <p class="text-sm text-gray-500">Budget total</p>
                        </div>
                    </div>
                </section>

                <!-- MODULE: Employ√©s -->
                <section id="module-employes" class="module-section">
                    <div class="glass-card rounded-2xl p-6 shadow-xl">
                        <div class="flex items-center justify-between mb-6">
                            <div class="flex items-center">
                                <span class="material-icons text-3xl text-indigo-600 mr-3">badge</span>
                                <div>
                                    <h3 class="text-xl font-bold text-gray-800">Gestion des Employ√©s</h3>
                                    <span class="text-gray-500" id="employes-count">0 employ√©s</span>
                                </div>
                            </div>
                            <button onclick="openEmployeModal()" class="flex items-center px-6 py-3 bg-gradient-to-r from-indigo-600 to-indigo-800 text-white rounded-xl font-bold hover:from-indigo-700 hover:to-indigo-900 transition shadow-lg">
                                <span class="material-icons mr-2">person_add</span>
                                Nouvel employ√©
                            </button>
                        </div>
                        
                        <!-- Filtres -->
                        <div class="flex flex-wrap gap-3 mb-6">
                            <input type="text" id="employe-search" placeholder="Rechercher un employ√©..." class="px-4 py-2 bg-white border-2 border-gray-200 rounded-xl text-gray-800 flex-1 min-w-48">
                            <select id="employe-filter-departement" class="px-4 py-2 bg-white border-2 border-gray-200 rounded-xl text-gray-800">
                                <option value="all">Tous les d√©partements</option>
                                <option value="direction">Direction</option>
                                <option value="technique">Technique</option>
                                <option value="commercial">Commercial</option>
                                <option value="administratif">Administratif</option>
                            </select>
                            <select id="employe-filter-statut" class="px-4 py-2 bg-white border-2 border-gray-200 rounded-xl text-gray-800">
                                <option value="all">Tous les statuts</option>
                                <option value="actif">Actifs</option>
                                <option value="conge">En cong√©</option>
                                <option value="parti">Partis</option>
                            </select>
                        </div>
                        
                        <div id="employes-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                            <p class="text-gray-400 col-span-full text-center py-12">Aucun employ√© enregistr√©</p>
                        </div>
                    </div>
                </section>

                <!-- MODULE: Stocks -->
                <section id="module-stocks" class="module-section">
                    <div class="glass-card rounded-2xl p-6 shadow-xl">
                        <div class="flex items-center justify-between mb-6">
                            <div class="flex items-center">
                                <span class="material-icons text-3xl text-teal-600 mr-3">inventory_2</span>
                                <div>
                                    <h3 class="text-xl font-bold text-gray-800">Gestion des Stocks</h3>
                                    <span class="text-gray-500" id="stocks-count">0 articles</span>
                                </div>
                            </div>
                            <button onclick="openStockModal()" class="flex items-center px-6 py-3 bg-gradient-to-r from-teal-500 to-teal-700 text-white rounded-xl font-bold hover:from-teal-600 hover:to-teal-800 transition shadow-lg">
                                <span class="material-icons mr-2">add_box</span>
                                Nouvel article
                            </button>
                        </div>
                        
                        <!-- Filtres -->
                        <div class="flex flex-wrap gap-3 mb-6">
                            <input type="text" id="stock-search" placeholder="Rechercher un article..." class="px-4 py-2 bg-white border-2 border-gray-200 rounded-xl text-gray-800 flex-1 min-w-48">
                            <select id="stock-filter" class="px-4 py-2 bg-white border-2 border-gray-200 rounded-xl text-gray-800">
                                <option value="all">Tous les articles</option>
                                <option value="bas">Stock bas</option>
                                <option value="epuise">√âpuis√©</option>
                            </select>
                        </div>
                        
                        <div id="stocks-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                            <p class="text-gray-400 col-span-full text-center py-12">Aucun article en stock</p>
                        </div>
                    </div>
                    
                    <!-- Alertes stock -->
                    <div class="glass-card rounded-2xl p-6 shadow-xl mt-6">
                        <h3 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
                            <span class="material-icons mr-2 text-yellow-500">warning</span>Alertes stock bas
                        </h3>
                        <div id="stock-alertes" class="space-y-2">
                            <p class="text-gray-400 text-center py-4">Aucune alerte</p>
                        </div>
                    </div>
                </section>

                <!-- MODULE: Documents -->
                <section id="module-documents" class="module-section">
                    <div class="glass-card rounded-2xl p-6 shadow-xl">
                        <div class="flex items-center justify-between mb-6">
                            <div class="flex items-center">
                                <span class="material-icons text-3xl text-gray-600 mr-3">folder_open</span>
                                <div>
                                    <h3 class="text-xl font-bold text-gray-800">Gestion des Documents</h3>
                                    <span class="text-gray-500" id="documents-count">0 documents</span>
                                </div>
                            </div>
                            <button onclick="openDocumentModal()" class="flex items-center px-6 py-3 bg-gradient-to-r from-gray-600 to-gray-800 text-white rounded-xl font-bold hover:from-gray-700 hover:to-gray-900 transition shadow-lg">
                                <span class="material-icons mr-2">upload_file</span>
                                Nouveau document
                            </button>
                        </div>
                        
                        <!-- Filtres -->
                        <div class="flex flex-wrap gap-3 mb-6">
                            <input type="text" id="doc-search" placeholder="Rechercher un document..." class="px-4 py-2 bg-white border-2 border-gray-200 rounded-xl text-gray-800 flex-1 min-w-48">
                            <select id="doc-categorie-filter" class="px-4 py-2 bg-white border-2 border-gray-200 rounded-xl text-gray-800">
                                <option value="all">Toutes cat√©gories</option>
                                <option value="contrat">Contrats</option>
                                <option value="bail">Baux</option>
                                <option value="facture">Factures</option>
                                <option value="devis">Devis</option>
                                <option value="legal">Documents l√©gaux</option>
                                <option value="autre">Autres</option>
                            </select>
                        </div>
                        
                        <div id="documents-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                            <p class="text-gray-400 col-span-full text-center py-12">Aucun document enregistr√©</p>
                        </div>
                    </div>

                    <!-- Mod√®les de documents -->
                    <div class="glass-card rounded-2xl p-6 shadow-xl mt-6">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-lg font-bold text-gray-800 flex items-center">
                                <span class="material-icons mr-2 text-blue-600">auto_awesome</span>Mod√®les de Documents
                            </h3>
                            <button onclick="openTemplateEditor()" class="flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-800 text-white rounded-xl font-semibold hover:from-blue-700 hover:to-blue-900 transition shadow-lg text-sm">
                                <span class="material-icons mr-1 text-sm">add</span>Cr√©er un mod√®le
                            </button>
                        </div>
                        
                        <!-- Mod√®les par d√©faut -->
                        <div class="mb-6">
                            <h4 class="text-sm font-semibold text-gray-500 uppercase tracking-wide mb-3">Mod√®les par d√©faut</h4>
                            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                                <button onclick="generateDocTemplate('contrat')" class="flex flex-col items-center p-4 bg-blue-50 hover:bg-blue-100 rounded-xl transition group">
                                    <span class="material-icons text-blue-600 text-2xl mb-2">description</span>
                                    <span class="text-blue-800 text-sm font-medium">Contrat</span>
                                    <span class="text-xs text-blue-500 mt-1 opacity-0 group-hover:opacity-100 transition">Utiliser</span>
                                </button>
                                <button onclick="generateDocTemplate('bail')" class="flex flex-col items-center p-4 bg-green-50 hover:bg-green-100 rounded-xl transition group">
                                    <span class="material-icons text-green-600 text-2xl mb-2">home</span>
                                    <span class="text-green-800 text-sm font-medium">Bail</span>
                                    <span class="text-xs text-green-500 mt-1 opacity-0 group-hover:opacity-100 transition">Utiliser</span>
                                </button>
                                <button onclick="generateDocTemplate('devis')" class="flex flex-col items-center p-4 bg-orange-50 hover:bg-orange-100 rounded-xl transition group">
                                    <span class="material-icons text-orange-600 text-2xl mb-2">request_quote</span>
                                    <span class="text-orange-800 text-sm font-medium">Devis</span>
                                    <span class="text-xs text-orange-500 mt-1 opacity-0 group-hover:opacity-100 transition">Utiliser</span>
                                </button>
                                <button onclick="generateDocTemplate('attestation')" class="flex flex-col items-center p-4 bg-purple-50 hover:bg-purple-100 rounded-xl transition group">
                                    <span class="material-icons text-purple-600 text-2xl mb-2">verified</span>
                                    <span class="text-purple-800 text-sm font-medium">Attestation</span>
                                    <span class="text-xs text-purple-500 mt-1 opacity-0 group-hover:opacity-100 transition">Utiliser</span>
                                </button>
                            </div>
                        </div>
                        
                        <!-- Mod√®les personnalis√©s -->
                        <div>
                            <h4 class="text-sm font-semibold text-gray-500 uppercase tracking-wide mb-3">Mes mod√®les personnalis√©s</h4>
                            <div id="custom-templates-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                                <p class="text-gray-400 text-center py-6 col-span-full">Aucun mod√®le personnalis√©. Cliquez sur "Cr√©er un mod√®le" pour commencer.</p>
                            </div>
                        </div>
                    </div>
                </section>

            </main>
        </div>
    </div>

    <!-- Modal Transaction -->
    <div id="transaction-modal" class="fixed inset-0 z-50 hidden overflow-y-auto">
        <div class="fixed inset-0 bg-black/60 backdrop-blur-sm" onclick="closeTransactionModal()"></div>
        <div class="relative min-h-screen flex items-center justify-center p-4">
            <div class="relative bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden">
                <!-- Header -->
                <div id="trans-modal-header" class="sticky top-0 z-10 px-6 py-4 border-b bg-gradient-to-r from-blue-600 to-blue-800">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 id="transaction-modal-title" class="text-xl font-bold text-white">Nouvelle transaction</h3>
                            <p class="text-blue-200 text-sm mt-1">Enregistrez vos op√©rations financi√®res</p>
                        </div>
                        <button onclick="closeTransactionModal()" class="text-white/80 hover:text-white p-2 hover:bg-white/10 rounded-full transition">
                            <span class="material-icons">close</span>
                        </button>
                    </div>
                </div>
                
                <!-- Form Content -->
                <div class="p-6 overflow-y-auto" style="max-height: calc(90vh - 160px);">
                    <form id="transaction-form" class="space-y-5">
                        <input type="hidden" id="trans-type">
                        <input type="hidden" id="trans-edit-id">
                        
                        <!-- Section Informations principales -->
                        <div class="bg-gray-50 rounded-xl p-5">
                            <h4 class="font-semibold text-gray-700 mb-4 flex items-center">
                                <span class="material-icons mr-2 text-blue-600">info</span>Informations principales
                            </h4>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div class="md:col-span-2">
                                    <label class="block text-gray-700 text-sm font-medium mb-1">Description *</label>
                                    <input type="text" id="trans-desc" placeholder="Ex: Vente appartement Almadies" class="w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl text-gray-800 focus:border-blue-500 focus:ring-2 focus:ring-blue-200" required>
                                </div>
                                <div>
                                    <label class="block text-gray-700 text-sm font-medium mb-1">Montant (FCFA) *</label>
                                    <input type="number" id="trans-montant" placeholder="0" class="w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl text-gray-800 focus:border-blue-500" required min="0">
                                </div>
                                <div>
                                    <label class="block text-gray-700 text-sm font-medium mb-1">Cat√©gorie *</label>
                                    <select id="trans-categorie" class="w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl text-gray-800 focus:border-blue-500">
                                        <!-- Options dynamiques -->
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Section Date et R√©f√©rence -->
                        <div class="bg-gray-50 rounded-xl p-5">
                            <h4 class="font-semibold text-gray-700 mb-4 flex items-center">
                                <span class="material-icons mr-2 text-purple-600">event</span>Date & R√©f√©rence
                            </h4>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <div>
                                    <label class="block text-gray-700 text-sm font-medium mb-1">Date *</label>
                                    <input type="date" id="trans-date" class="w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl text-gray-800 focus:border-blue-500" required>
                                </div>
                                <div>
                                    <label class="block text-gray-700 text-sm font-medium mb-1">N¬∞ R√©f√©rence</label>
                                    <input type="text" id="trans-reference" placeholder="REF-001" class="w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl text-gray-800 focus:border-blue-500">
                                </div>
                                <div>
                                    <label class="block text-gray-700 text-sm font-medium mb-1">N¬∞ Facture associ√©e</label>
                                    <input type="text" id="trans-facture" placeholder="FAC-2026-001" class="w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl text-gray-800 focus:border-blue-500">
                                </div>
                            </div>
                        </div>
                        
                        <!-- Section Client/Fournisseur -->
                        <div class="bg-gray-50 rounded-xl p-5">
                            <h4 class="font-semibold text-gray-700 mb-4 flex items-center">
                                <span class="material-icons mr-2 text-green-600">person</span>Client / Fournisseur
                            </h4>
                            
                            <!-- S√©lecteur client existant pour auto-remplissage -->
                            <div class="bg-blue-50 rounded-xl p-4 mb-4 border-2 border-dashed border-blue-200">
                                <label class="block text-blue-800 text-sm font-bold mb-2">
                                    <span class="material-icons align-middle text-sm mr-1">flash_on</span>Charger un client existant
                                </label>
                                <select id="trans-client-select" onchange="fillClientInfo(this.value, 'trans')" class="w-full px-4 py-3 bg-white border-2 border-blue-300 rounded-xl text-gray-800 focus:border-blue-500 focus:ring-2 focus:ring-blue-200">
                                    <option value="">-- Saisie manuelle --</option>
                                </select>
                            </div>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-gray-700 text-sm font-medium mb-1">Nom / Raison sociale</label>
                                    <input type="text" id="trans-tiers" placeholder="Nom du client ou fournisseur" class="w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl text-gray-800 focus:border-blue-500">
                                </div>
                                <div>
                                    <label class="block text-gray-700 text-sm font-medium mb-1">Projet associ√©</label>
                                    <select id="trans-projet" class="w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl text-gray-800 focus:border-blue-500">
                                        <option value="">-- Aucun projet --</option>
                                        <!-- Options dynamiques -->
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Section Mode de paiement -->
                        <div class="bg-gray-50 rounded-xl p-5">
                            <h4 class="font-semibold text-gray-700 mb-4 flex items-center">
                                <span class="material-icons mr-2 text-amber-600">payments</span>Mode de paiement
                            </h4>
                            <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
                                <label class="relative">
                                    <input type="radio" name="trans-mode-paiement" value="especes" class="peer sr-only" checked>
                                    <div class="p-3 border-2 rounded-xl cursor-pointer text-center transition peer-checked:border-blue-500 peer-checked:bg-blue-50 hover:border-gray-300">
                                        <span class="material-icons text-2xl text-gray-600 peer-checked:text-blue-600">payments</span>
                                        <p class="text-xs mt-1 font-medium">Esp√®ces</p>
                                    </div>
                                </label>
                                <label class="relative">
                                    <input type="radio" name="trans-mode-paiement" value="virement" class="peer sr-only">
                                    <div class="p-3 border-2 rounded-xl cursor-pointer text-center transition peer-checked:border-blue-500 peer-checked:bg-blue-50 hover:border-gray-300">
                                        <span class="material-icons text-2xl text-gray-600 peer-checked:text-blue-600">account_balance</span>
                                        <p class="text-xs mt-1 font-medium">Virement</p>
                                    </div>
                                </label>
                                <label class="relative">
                                    <input type="radio" name="trans-mode-paiement" value="cheque" class="peer sr-only">
                                    <div class="p-3 border-2 rounded-xl cursor-pointer text-center transition peer-checked:border-blue-500 peer-checked:bg-blue-50 hover:border-gray-300">
                                        <span class="material-icons text-2xl text-gray-600 peer-checked:text-blue-600">receipt</span>
                                        <p class="text-xs mt-1 font-medium">Ch√®que</p>
                                    </div>
                                </label>
                                <label class="relative">
                                    <input type="radio" name="trans-mode-paiement" value="mobile" class="peer sr-only">
                                    <div class="p-3 border-2 rounded-xl cursor-pointer text-center transition peer-checked:border-blue-500 peer-checked:bg-blue-50 hover:border-gray-300">
                                        <span class="material-icons text-2xl text-gray-600 peer-checked:text-blue-600">phone_android</span>
                                        <p class="text-xs mt-1 font-medium">Mobile Money</p>
                                    </div>
                                </label>
                            </div>
                            <div id="trans-cheque-details" class="hidden mt-4 grid grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-gray-700 text-sm font-medium mb-1">N¬∞ Ch√®que</label>
                                    <input type="text" id="trans-num-cheque" class="w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl text-gray-800">
                                </div>
                                <div>
                                    <label class="block text-gray-700 text-sm font-medium mb-1">Banque</label>
                                    <input type="text" id="trans-banque" class="w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl text-gray-800">
                                </div>
                            </div>
                        </div>
                        
                        <!-- Section TVA et justificatif -->
                        <div class="bg-gray-50 rounded-xl p-5">
                            <h4 class="font-semibold text-gray-700 mb-4 flex items-center">
                                <span class="material-icons mr-2 text-red-600">receipt_long</span>TVA & Justificatifs
                            </h4>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-gray-700 text-sm font-medium mb-1">TVA</label>
                                    <select id="trans-tva" class="w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl text-gray-800 focus:border-blue-500">
                                        <option value="0">Exon√©r√© de TVA</option>
                                        <option value="18">TVA 18%</option>
                                        <option value="10">TVA 10%</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-gray-700 text-sm font-medium mb-1">Statut</label>
                                    <select id="trans-statut" class="w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl text-gray-800 focus:border-blue-500">
                                        <option value="effectue">Effectu√©</option>
                                        <option value="en_attente">En attente</option>
                                        <option value="annule">Annul√©</option>
                                    </select>
                                </div>
                            </div>
                            <div class="mt-4">
                                <label class="flex items-center space-x-3 cursor-pointer">
                                    <input type="checkbox" id="trans-justificatif" class="w-5 h-5 text-blue-600 rounded">
                                    <span class="text-sm text-gray-700">Justificatif disponible (re√ßu, facture, bon de commande...)</span>
                                </label>
                            </div>
                        </div>
                        
                        <!-- Notes -->
                        <div class="bg-gray-50 rounded-xl p-5">
                            <label class="block text-gray-700 text-sm font-medium mb-2">Notes / Observations</label>
                            <textarea id="trans-notes" rows="3" placeholder="Informations compl√©mentaires sur cette transaction..." class="w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl text-gray-800 focus:border-blue-500"></textarea>
                        </div>
                    </form>
                </div>
                
                <!-- Footer -->
                <div class="sticky bottom-0 bg-gray-50 border-t px-6 py-4 flex justify-between items-center">
                    <button type="button" onclick="closeTransactionModal()" class="px-6 py-3 bg-gray-200 text-gray-700 rounded-xl font-semibold hover:bg-gray-300 transition">
                        Annuler
                    </button>
                    <button type="submit" form="transaction-form" id="trans-submit-btn" class="px-8 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl font-semibold hover:from-blue-700 hover:to-blue-800 transition shadow-lg">
                        <span class="material-icons align-middle text-sm mr-1">save</span>Enregistrer
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Aper√ßu Facture -->
    <div id="facture-preview-modal" class="fixed inset-0 z-50 hidden">
        <div class="absolute inset-0 bg-black/50" onclick="closeFacturePreview()"></div>
        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto">
            <div id="facture-preview-content" class="facture-preview relative p-8">
                <!-- Contenu de la facture g√©n√©r√© dynamiquement -->
            </div>
            <div class="sticky bottom-0 bg-white border-t p-4 flex justify-end space-x-3 no-print">
                <button onclick="closeFacturePreview()" class="px-6 py-2 bg-gray-200 text-gray-700 rounded-xl">Fermer</button>
                <button onclick="printFacture()" class="px-6 py-2 bg-blue-600 text-white rounded-xl">
                    <span class="material-icons align-middle text-sm mr-1">print</span>Imprimer
                </button>
                <button onclick="downloadFacturePDF()" class="px-6 py-2 bg-red-600 text-white rounded-xl">
                    <span class="material-icons align-middle text-sm mr-1">picture_as_pdf</span>PDF
                </button>
            </div>
        </div>
    </div>

    <!-- ============================================== -->
    <!-- MODAL EMPLOY√â -->
    <!-- ============================================== -->
    <div id="employe-modal" class="fixed inset-0 z-50 hidden overflow-y-auto">
        <div class="fixed inset-0 bg-black/60 backdrop-blur-sm" onclick="closeEmployeModal()"></div>
        <div class="relative min-h-screen flex items-center justify-center p-4">
            <div class="relative bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden animate__animated animate__fadeInUp animate__faster">
                <!-- Header -->
                <div class="sticky top-0 z-10 px-6 py-4 border-b bg-gradient-to-r from-indigo-600 to-indigo-800">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 id="employe-modal-title" class="text-xl font-bold text-white">Nouvel employ√©</h3>
                            <p class="text-indigo-200 text-sm mt-1">Renseignez les informations de l'employ√©</p>
                        </div>
                        <button onclick="closeEmployeModal()" class="text-white/80 hover:text-white p-2 hover:bg-white/10 rounded-full transition">
                            <span class="material-icons">close</span>
                        </button>
                    </div>
                </div>
                
                <!-- Form Content -->
                <div class="p-6 overflow-y-auto" style="max-height: calc(90vh - 160px);">
                    <form id="employe-form" class="space-y-5">
                        <input type="hidden" id="employe-edit-id">
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <!-- Colonne gauche -->
                            <div class="space-y-5">
                                <!-- Identit√© -->
                                <div class="bg-gray-50 rounded-xl p-4 space-y-4">
                                    <h4 class="font-semibold text-gray-700 flex items-center">
                                        <span class="material-icons text-blue-600 mr-2">person</span>Identit√©
                                    </h4>
                                    <div class="grid grid-cols-4 gap-3">
                                        <div>
                                            <label class="block text-gray-600 text-sm mb-1">Civilit√©</label>
                                            <select id="employe-civilite" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                                <option value="M.">M.</option>
                                                <option value="Mme">Mme</option>
                                            </select>
                                        </div>
                                        <div class="col-span-2">
                                            <label class="block text-gray-600 text-sm mb-1">Pr√©nom *</label>
                                            <input type="text" id="employe-prenom" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" required>
                                        </div>
                                        <div>
                                            <label class="block text-gray-600 text-sm mb-1">Nom *</label>
                                            <input type="text" id="employe-nom" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" required>
                                        </div>
                                    </div>
                                    <div class="grid grid-cols-2 gap-3">
                                        <div>
                                            <label class="block text-gray-600 text-sm mb-1">Date naissance</label>
                                            <input type="date" id="employe-naissance" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                        </div>
                                        <div>
                                            <label class="block text-gray-600 text-sm mb-1">Lieu naissance</label>
                                            <input type="text" id="employe-lieu-naissance" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" placeholder="Dakar">
                                        </div>
                                    </div>
                                    <div class="grid grid-cols-2 gap-3">
                                        <div>
                                            <label class="block text-gray-600 text-sm mb-1">N¬∞ CNI *</label>
                                            <input type="text" id="employe-cni" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" required>
                                        </div>
                                        <div>
                                            <label class="block text-gray-600 text-sm mb-1">Nationalit√©</label>
                                            <input type="text" id="employe-nationalite" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" value="S√©n√©galaise">
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Coordonn√©es -->
                                <div class="bg-gray-50 rounded-xl p-4 space-y-4">
                                    <h4 class="font-semibold text-gray-700 flex items-center">
                                        <span class="material-icons text-green-600 mr-2">contact_phone</span>Coordonn√©es
                                    </h4>
                                    <div>
                                        <label class="block text-gray-600 text-sm mb-1">T√©l√©phone *</label>
                                        <input type="tel" id="employe-tel" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" placeholder="+221 77 XXX XX XX" required>
                                    </div>
                                    <div>
                                        <label class="block text-gray-600 text-sm mb-1">Email</label>
                                        <input type="email" id="employe-email" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                    </div>
                                    <div>
                                        <label class="block text-gray-600 text-sm mb-1">Adresse</label>
                                        <input type="text" id="employe-adresse" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                    </div>
                                    <div class="grid grid-cols-2 gap-3">
                                        <div>
                                            <label class="block text-gray-600 text-sm mb-1">Contact urgence</label>
                                            <input type="text" id="employe-urgence-nom" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" placeholder="Nom">
                                        </div>
                                        <div>
                                            <label class="block text-gray-600 text-sm mb-1">T√©l. urgence</label>
                                            <input type="tel" id="employe-urgence-tel" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Colonne droite -->
                            <div class="space-y-5">
                                <!-- Informations professionnelles -->
                                <div class="bg-gray-50 rounded-xl p-4 space-y-4">
                                    <h4 class="font-semibold text-gray-700 flex items-center">
                                        <span class="material-icons text-purple-600 mr-2">work</span>Poste
                                    </h4>
                                    <div class="grid grid-cols-2 gap-3">
                                        <div>
                                            <label class="block text-gray-600 text-sm mb-1">Matricule</label>
                                            <input type="text" id="employe-matricule" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" placeholder="Auto">
                                        </div>
                                        <div>
                                            <label class="block text-gray-600 text-sm mb-1">D√©partement</label>
                                            <select id="employe-departement" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                                <option value="">--</option>
                                                <option value="direction">Direction</option>
                                                <option value="technique">Technique</option>
                                                <option value="commercial">Commercial</option>
                                                <option value="administratif">Administratif</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div>
                                        <label class="block text-gray-600 text-sm mb-1">Poste / Fonction *</label>
                                        <select id="employe-poste" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" required>
                                            <option value="">-- S√©lectionner --</option>
                                            <option value="directeur">Directeur</option>
                                            <option value="chef_chantier">Chef de chantier</option>
                                            <option value="conducteur_travaux">Conducteur de travaux</option>
                                            <option value="macon">Ma√ßon</option>
                                            <option value="plombier">Plombier</option>
                                            <option value="electricien">√âlectricien</option>
                                            <option value="peintre">Peintre</option>
                                            <option value="carreleur">Carreleur</option>
                                            <option value="menuisier">Menuisier</option>
                                            <option value="manoeuvre">Man≈ìuvre</option>
                                            <option value="chauffeur">Chauffeur</option>
                                            <option value="gardien">Gardien</option>
                                            <option value="secretaire">Secr√©taire</option>
                                            <option value="comptable">Comptable</option>
                                            <option value="commercial">Commercial</option>
                                            <option value="autre">Autre</option>
                                        </select>
                                    </div>
                                    <div class="grid grid-cols-2 gap-3">
                                        <div>
                                            <label class="block text-gray-600 text-sm mb-1">Type contrat</label>
                                            <select id="employe-contrat" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                                <option value="cdi">CDI</option>
                                                <option value="cdd">CDD</option>
                                                <option value="stage">Stage</option>
                                                <option value="journalier">Journalier</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label class="block text-gray-600 text-sm mb-1">Date embauche *</label>
                                            <input type="date" id="employe-embauche" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" required>
                                        </div>
                                    </div>
                                    <div>
                                        <label class="block text-gray-600 text-sm mb-1">Fin contrat (si CDD)</label>
                                        <input type="date" id="employe-fin-contrat" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                    </div>
                                </div>
                                
                                <!-- R√©mun√©ration -->
                                <div class="bg-gray-50 rounded-xl p-4 space-y-4">
                                    <h4 class="font-semibold text-gray-700 flex items-center">
                                        <span class="material-icons text-amber-600 mr-2">payments</span>R√©mun√©ration
                                    </h4>
                                    <div>
                                        <label class="block text-gray-600 text-sm mb-1">Salaire brut (FCFA) *</label>
                                        <input type="number" id="employe-salaire" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" required placeholder="150000">
                                    </div>
                                    <div class="grid grid-cols-2 gap-3">
                                        <div>
                                            <label class="block text-gray-600 text-sm mb-1">Mode paiement</label>
                                            <select id="employe-mode-paiement" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                                <option value="virement">Virement</option>
                                                <option value="especes">Esp√®ces</option>
                                                <option value="mobile">Mobile Money</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label class="block text-gray-600 text-sm mb-1">Statut</label>
                                            <select id="employe-statut" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                                <option value="actif">üü¢ Actif</option>
                                                <option value="essai">üîµ Essai</option>
                                                <option value="conge">üü° Cong√©</option>
                                                <option value="parti">‚ö´ Parti</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Notes -->
                                <div>
                                    <label class="block text-gray-600 text-sm mb-1">Notes</label>
                                    <textarea id="employe-notes" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" rows="2"></textarea>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Boutons -->
                        <div class="flex justify-end space-x-3 pt-4 border-t">
                            <button type="button" onclick="closeEmployeModal()" class="px-6 py-3 bg-gray-200 text-gray-700 rounded-xl font-semibold hover:bg-gray-300 transition">
                                Annuler
                            </button>
                            <button type="submit" class="px-8 py-3 bg-gradient-to-r from-indigo-600 to-indigo-800 text-white rounded-xl font-bold hover:from-indigo-700 hover:to-indigo-900 transition shadow-lg">
                                <span class="material-icons align-middle mr-1">save</span>Enregistrer
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- ============================================== -->
    <!-- MODAL STOCK -->
    <!-- ============================================== -->
    <div id="stock-modal" class="fixed inset-0 z-50 hidden overflow-y-auto">
        <div class="fixed inset-0 bg-black/60 backdrop-blur-sm" onclick="closeStockModal()"></div>
        <div class="relative min-h-screen flex items-center justify-center p-4">
            <div class="relative bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-hidden animate__animated animate__fadeInUp animate__faster">
                <!-- Header -->
                <div class="sticky top-0 z-10 px-6 py-4 border-b bg-gradient-to-r from-teal-500 to-teal-700">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 id="stock-modal-title" class="text-xl font-bold text-white">Nouvel article</h3>
                            <p class="text-teal-100 text-sm mt-1">Ajoutez un article √† l'inventaire</p>
                        </div>
                        <button onclick="closeStockModal()" class="text-white/80 hover:text-white p-2 hover:bg-white/10 rounded-full transition">
                            <span class="material-icons">close</span>
                        </button>
                    </div>
                </div>
                
                <!-- Form Content -->
                <div class="p-6 overflow-y-auto" style="max-height: calc(90vh - 160px);">
                    <form id="stock-form" class="space-y-5">
                        <input type="hidden" id="stock-edit-index">
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <!-- Colonne gauche -->
                            <div class="space-y-5">
                                <!-- Identification -->
                                <div class="bg-gray-50 rounded-xl p-4 space-y-4">
                                    <h4 class="font-semibold text-gray-700 flex items-center">
                                        <span class="material-icons text-blue-600 mr-2">label</span>Identification
                                    </h4>
                                    <div class="grid grid-cols-2 gap-3">
                                        <div>
                                            <label class="block text-gray-600 text-sm mb-1">R√©f√©rence</label>
                                            <input type="text" id="stock-reference" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" placeholder="Auto">
                                        </div>
                                        <div>
                                            <label class="block text-gray-600 text-sm mb-1">Cat√©gorie *</label>
                                            <select id="stock-categorie" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" required>
                                                <option value="">--</option>
                                                <option value="ciment">Ciment</option>
                                                <option value="sable">Sable/Gravier</option>
                                                <option value="fer">Fer/Armature</option>
                                                <option value="brique">Briques</option>
                                                <option value="bois">Bois</option>
                                                <option value="peinture">Peinture</option>
                                                <option value="carrelage">Carrelage</option>
                                                <option value="plomberie">Plomberie</option>
                                                <option value="electricite">√âlectricit√©</option>
                                                <option value="outillage">Outillage</option>
                                                <option value="securite">S√©curit√©/EPI</option>
                                                <option value="autre">Autre</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div>
                                        <label class="block text-gray-600 text-sm mb-1">D√©signation *</label>
                                        <input type="text" id="stock-nom" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" required placeholder="Nom de l'article">
                                    </div>
                                    <div>
                                        <label class="block text-gray-600 text-sm mb-1">Description</label>
                                        <textarea id="stock-description" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" rows="2"></textarea>
                                    </div>
                                </div>
                                
                                <!-- Stock -->
                                <div class="bg-gray-50 rounded-xl p-4 space-y-4">
                                    <h4 class="font-semibold text-gray-700 flex items-center">
                                        <span class="material-icons text-green-600 mr-2">inventory</span>Stock
                                    </h4>
                                    <div class="grid grid-cols-3 gap-3">
                                        <div>
                                            <label class="block text-gray-600 text-sm mb-1">Quantit√© *</label>
                                            <input type="number" id="stock-quantite" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" min="0" required>
                                        </div>
                                        <div>
                                            <label class="block text-gray-600 text-sm mb-1">Unit√©</label>
                                            <select id="stock-unite" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                                <option value="pcs">Pi√®ces</option>
                                                <option value="kg">Kg</option>
                                                <option value="tonne">Tonnes</option>
                                                <option value="m">M√®tres</option>
                                                <option value="m2">M¬≤</option>
                                                <option value="m3">M¬≥</option>
                                                <option value="l">Litres</option>
                                                <option value="sac">Sacs</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label class="block text-gray-600 text-sm mb-1">Seuil alerte</label>
                                            <input type="number" id="stock-seuil" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" min="0" value="5">
                                        </div>
                                    </div>
                                    <div>
                                        <label class="block text-gray-600 text-sm mb-1">Emplacement</label>
                                        <input type="text" id="stock-emplacement" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" placeholder="Entrep√¥t A">
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Colonne droite -->
                            <div class="space-y-5">
                                <!-- Prix -->
                                <div class="bg-gray-50 rounded-xl p-4 space-y-4">
                                    <h4 class="font-semibold text-gray-700 flex items-center">
                                        <span class="material-icons text-amber-600 mr-2">sell</span>Prix (FCFA)
                                    </h4>
                                    <div class="grid grid-cols-2 gap-3">
                                        <div>
                                            <label class="block text-gray-600 text-sm mb-1">Prix achat HT</label>
                                            <input type="number" id="stock-prix-achat" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                        </div>
                                        <div>
                                            <label class="block text-gray-600 text-sm mb-1">Prix vente HT</label>
                                            <input type="number" id="stock-prix" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                        </div>
                                    </div>
                                    <div>
                                        <label class="block text-gray-600 text-sm mb-1">TVA</label>
                                        <select id="stock-tva" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                            <option value="0">0%</option>
                                            <option value="18" selected>18%</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <!-- Fournisseur -->
                                <div class="bg-gray-50 rounded-xl p-4 space-y-4">
                                    <h4 class="font-semibold text-gray-700 flex items-center">
                                        <span class="material-icons text-purple-600 mr-2">local_shipping</span>Fournisseur
                                    </h4>
                                    <div>
                                        <label class="block text-gray-600 text-sm mb-1">Nom</label>
                                        <input type="text" id="stock-fournisseur" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                    </div>
                                    <div>
                                        <label class="block text-gray-600 text-sm mb-1">T√©l√©phone</label>
                                        <input type="tel" id="stock-fournisseur-tel" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                    </div>
                                    <div>
                                        <label class="block text-gray-600 text-sm mb-1">D√©lai livraison (jours)</label>
                                        <input type="number" id="stock-delai" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" min="0">
                                    </div>
                                </div>
                                
                                <!-- Notes -->
                                <div>
                                    <label class="block text-gray-600 text-sm mb-1">Notes</label>
                                    <textarea id="stock-notes" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" rows="2"></textarea>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Boutons -->
                        <div class="flex justify-end space-x-3 pt-4 border-t">
                            <button type="button" onclick="closeStockModal()" class="px-6 py-3 bg-gray-200 text-gray-700 rounded-xl font-semibold hover:bg-gray-300 transition">
                                Annuler
                            </button>
                            <button type="submit" class="px-8 py-3 bg-gradient-to-r from-teal-500 to-teal-700 text-white rounded-xl font-bold hover:from-teal-600 hover:to-teal-800 transition shadow-lg">
                                <span class="material-icons align-middle mr-1">save</span>Enregistrer
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL PROJET -->
    <div id="projet-modal" class="fixed inset-0 z-50 hidden overflow-y-auto">
        <div class="min-h-screen px-4 py-6 flex items-start justify-center bg-black/60 backdrop-blur-sm">
            <div class="bg-white rounded-2xl shadow-2xl w-full max-w-4xl animate__animated animate__fadeInUp animate__faster">
                <!-- Header -->
                <div class="bg-gradient-to-r from-orange-600 to-orange-800 text-white px-6 py-4 rounded-t-2xl flex items-center justify-between">
                    <h3 id="projet-modal-title" class="text-xl font-bold flex items-center">
                        <span class="material-icons mr-2">construction</span>Nouveau projet
                    </h3>
                    <button onclick="closeProjetModal()" class="text-white/80 hover:text-white transition">
                        <span class="material-icons text-3xl">close</span>
                    </button>
                </div>
                
                <!-- Form -->
                <form id="projet-form" class="p-6 max-h-[75vh] overflow-y-auto">
                    <input type="hidden" id="projet-edit-index">
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Colonne gauche -->
                        <div class="space-y-5">
                            <!-- Infos g√©n√©rales -->
                            <div class="bg-gray-50 rounded-xl p-4 space-y-4">
                                <h4 class="font-semibold text-gray-700 flex items-center">
                                    <span class="material-icons text-blue-600 mr-2">info</span>Informations g√©n√©rales
                                </h4>
                                <div>
                                    <label class="block text-gray-600 text-sm mb-1">Nom du projet *</label>
                                    <input type="text" id="projet-nom" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" required placeholder="Ex: R√©novation Villa Almadies">
                                </div>
                                <div class="grid grid-cols-2 gap-3">
                                    <div>
                                        <label class="block text-gray-600 text-sm mb-1">R√©f√©rence</label>
                                        <input type="text" id="projet-reference" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" placeholder="PROJ-2025-001">
                                    </div>
                                    <div>
                                        <label class="block text-gray-600 text-sm mb-1">Type</label>
                                        <select id="projet-type" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                            <option value="renovation">üîß R√©novation</option>
                                            <option value="construction">üèóÔ∏è Construction</option>
                                            <option value="amenagement">üè† Am√©nagement</option>
                                            <option value="demolition">üí• D√©molition</option>
                                            <option value="extension">üìê Extension</option>
                                            <option value="entretien">üî® Entretien</option>
                                        </select>
                                    </div>
                                </div>
                                <div>
                                    <label class="block text-gray-600 text-sm mb-1">Client *</label>
                                    <select id="projet-client" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                        <option value="">-- S√©lectionner un client --</option>
                                    </select>
                                </div>
                            </div>
                            
                            <!-- Localisation -->
                            <div class="bg-gray-50 rounded-xl p-4 space-y-4">
                                <h4 class="font-semibold text-gray-700 flex items-center">
                                    <span class="material-icons text-green-600 mr-2">location_on</span>Localisation
                                </h4>
                                <div>
                                    <label class="block text-gray-600 text-sm mb-1">Adresse du chantier *</label>
                                    <input type="text" id="projet-adresse" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" placeholder="Num√©ro, rue, quartier">
                                </div>
                                <div class="grid grid-cols-2 gap-3">
                                    <div>
                                        <label class="block text-gray-600 text-sm mb-1">Ville</label>
                                        <input type="text" id="projet-ville" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" value="Dakar">
                                    </div>
                                    <div>
                                        <label class="block text-gray-600 text-sm mb-1">Surface (m¬≤)</label>
                                        <input type="number" id="projet-surface" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" placeholder="0">
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Planification -->
                            <div class="bg-gray-50 rounded-xl p-4 space-y-4">
                                <h4 class="font-semibold text-gray-700 flex items-center">
                                    <span class="material-icons text-purple-600 mr-2">schedule</span>Planification
                                </h4>
                                <div class="grid grid-cols-2 gap-3">
                                    <div>
                                        <label class="block text-gray-600 text-sm mb-1">Date d√©but</label>
                                        <input type="date" id="projet-debut" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                    </div>
                                    <div>
                                        <label class="block text-gray-600 text-sm mb-1">Date fin pr√©vue</label>
                                        <input type="date" id="projet-fin" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                    </div>
                                </div>
                                <div>
                                    <label class="block text-gray-600 text-sm mb-2">Avancement</label>
                                    <div class="flex items-center gap-3">
                                        <input type="range" id="projet-avancement" min="0" max="100" value="0" class="flex-1" oninput="document.getElementById('projet-avancement-val').textContent = this.value + '%'">
                                        <span id="projet-avancement-val" class="font-bold text-blue-600 w-12">0%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Colonne droite -->
                        <div class="space-y-5">
                            <!-- Budget -->
                            <div class="bg-gray-50 rounded-xl p-4 space-y-4">
                                <h4 class="font-semibold text-gray-700 flex items-center">
                                    <span class="material-icons text-amber-600 mr-2">payments</span>Budget (FCFA)
                                </h4>
                                <div class="grid grid-cols-2 gap-3">
                                    <div>
                                        <label class="block text-gray-600 text-sm mb-1">Budget total</label>
                                        <input type="number" id="projet-budget" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" placeholder="0">
                                    </div>
                                    <div>
                                        <label class="block text-gray-600 text-sm mb-1">D√©pens√©</label>
                                        <input type="number" id="projet-depense" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" placeholder="0">
                                    </div>
                                </div>
                                <div class="grid grid-cols-2 gap-3">
                                    <div>
                                        <label class="block text-gray-600 text-sm mb-1">Marge (%)</label>
                                        <input type="number" id="projet-marge" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" placeholder="15" min="0" max="100">
                                    </div>
                                    <div>
                                        <label class="block text-gray-600 text-sm mb-1">Acompte re√ßu</label>
                                        <input type="number" id="projet-acompte" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" placeholder="0">
                                    </div>
                                </div>
                            </div>
                            
                            <!-- √âquipe -->
                            <div class="bg-gray-50 rounded-xl p-4 space-y-4">
                                <h4 class="font-semibold text-gray-700 flex items-center">
                                    <span class="material-icons text-red-600 mr-2">groups</span>√âquipe
                                </h4>
                                <div>
                                    <label class="block text-gray-600 text-sm mb-1">Chef de chantier</label>
                                    <select id="projet-chef" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                        <option value="">-- S√©lectionner --</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-gray-600 text-sm mb-1">Nombre d'ouvriers</label>
                                    <input type="number" id="projet-nb-ouvriers" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" placeholder="0" min="0">
                                </div>
                            </div>
                            
                            <!-- Statut -->
                            <div class="bg-gray-50 rounded-xl p-4 space-y-4">
                                <h4 class="font-semibold text-gray-700 flex items-center">
                                    <span class="material-icons text-indigo-600 mr-2">flag</span>Statut & Priorit√©
                                </h4>
                                <div class="grid grid-cols-2 gap-3">
                                    <div>
                                        <label class="block text-gray-600 text-sm mb-1">Statut</label>
                                        <select id="projet-statut" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                            <option value="planifie">üìã Planifi√©</option>
                                            <option value="en_cours">üîÑ En cours</option>
                                            <option value="suspendu">‚è∏Ô∏è Suspendu</option>
                                            <option value="termine">‚úÖ Termin√©</option>
                                            <option value="annule">‚ùå Annul√©</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-gray-600 text-sm mb-1">Priorit√©</label>
                                        <select id="projet-priorite" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                            <option value="normale">Normale</option>
                                            <option value="haute">üî¥ Haute</option>
                                            <option value="urgente">üö® Urgente</option>
                                            <option value="basse">Basse</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Description -->
                            <div>
                                <label class="block text-gray-600 text-sm mb-1">Description des travaux</label>
                                <textarea id="projet-desc" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" rows="4" placeholder="D√©crivez les travaux √† r√©aliser..."></textarea>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Boutons -->
                    <div class="flex justify-end space-x-3 pt-4 border-t mt-6">
                        <button type="button" onclick="closeProjetModal()" class="px-6 py-3 bg-gray-200 text-gray-700 rounded-xl font-semibold hover:bg-gray-300 transition">
                            Annuler
                        </button>
                        <button type="submit" class="px-8 py-3 bg-gradient-to-r from-orange-500 to-orange-700 text-white rounded-xl font-bold hover:from-orange-600 hover:to-orange-800 transition shadow-lg">
                            <span class="material-icons align-middle mr-1">save</span>Enregistrer
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- MODAL DOCUMENT -->
    <div id="document-modal" class="fixed inset-0 z-50 hidden overflow-y-auto">
        <div class="min-h-screen px-4 py-6 flex items-start justify-center bg-black/60 backdrop-blur-sm">
            <div class="bg-white rounded-2xl shadow-2xl w-full max-w-lg animate__animated animate__fadeInUp animate__faster">
                <!-- Header -->
                <div class="bg-gradient-to-r from-gray-600 to-gray-800 text-white px-6 py-4 rounded-t-2xl flex items-center justify-between">
                    <h3 id="document-modal-title" class="text-xl font-bold flex items-center">
                        <span class="material-icons mr-2">upload_file</span>Nouveau document
                    </h3>
                    <button onclick="closeDocumentModal()" class="text-white/80 hover:text-white transition">
                        <span class="material-icons text-3xl">close</span>
                    </button>
                </div>
                
                <!-- Form -->
                <form id="document-form" class="p-6 space-y-5">
                    <input type="hidden" id="doc-edit-id">
                    
                    <div>
                        <label class="block text-gray-700 font-medium mb-1">Titre *</label>
                        <input type="text" id="doc-titre" class="w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl text-gray-800" required placeholder="Nom du document">
                    </div>
                    
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-gray-700 font-medium mb-1">Cat√©gorie</label>
                            <select id="doc-categorie" class="w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl text-gray-800">
                                <option value="contrat">üìÑ Contrat</option>
                                <option value="bail">üè† Bail</option>
                                <option value="facture">üí∞ Facture</option>
                                <option value="devis">üìù Devis</option>
                                <option value="legal">‚öñÔ∏è Document l√©gal</option>
                                <option value="autre">üìã Autre</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-gray-700 font-medium mb-1">Date d'expiration</label>
                            <input type="date" id="doc-expiration" class="w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl text-gray-800">
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-gray-700 font-medium mb-1">Client associ√©</label>
                        <select id="doc-client" class="w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl text-gray-800">
                            <option value="">-- Aucun --</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-gray-700 font-medium mb-1">Projet associ√©</label>
                        <select id="doc-projet" class="w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl text-gray-800">
                            <option value="">-- Aucun --</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-gray-700 font-medium mb-2">Fichier</label>
                        <div class="border-2 border-dashed border-gray-300 rounded-xl p-4 text-center hover:border-blue-400 transition cursor-pointer" onclick="document.getElementById('doc-fichier').click()">
                            <span class="material-icons text-4xl text-gray-400">cloud_upload</span>
                            <p class="text-gray-500 mt-2">Cliquez pour s√©lectionner un fichier</p>
                            <p class="text-gray-400 text-sm">PDF, DOC, JPG, PNG (max 5MB)</p>
                            <input type="file" id="doc-fichier" class="hidden" accept=".pdf,.doc,.docx,.jpg,.png">
                        </div>
                        <p id="doc-fichier-nom" class="text-sm text-green-600 mt-2 hidden"></p>
                    </div>
                    
                    <div>
                        <label class="block text-gray-700 font-medium mb-1">Notes</label>
                        <textarea id="doc-notes" class="w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl text-gray-800" rows="2" placeholder="Notes additionnelles..."></textarea>
                    </div>
                    
                    <!-- Boutons -->
                    <div class="flex justify-end space-x-3 pt-4 border-t">
                        <button type="button" onclick="closeDocumentModal()" class="px-6 py-3 bg-gray-200 text-gray-700 rounded-xl font-semibold hover:bg-gray-300 transition">
                            Annuler
                        </button>
                        <button type="submit" class="px-8 py-3 bg-gradient-to-r from-gray-600 to-gray-800 text-white rounded-xl font-bold hover:from-gray-700 hover:to-gray-900 transition shadow-lg">
                            <span class="material-icons align-middle mr-1">save</span>Enregistrer
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- MODAL CLIENT (CRM) -->
    <div id="client-modal" class="fixed inset-0 z-50 hidden overflow-y-auto">
        <div class="min-h-screen px-4 py-6 flex items-start justify-center bg-black/60 backdrop-blur-sm">
            <div class="bg-white rounded-2xl shadow-2xl w-full max-w-4xl animate__animated animate__fadeInUp animate__faster">
                <!-- Header -->
                <div class="bg-gradient-to-r from-blue-600 to-blue-800 text-white px-6 py-4 rounded-t-2xl flex items-center justify-between">
                    <h3 id="client-modal-title" class="text-xl font-bold flex items-center">
                        <span class="material-icons mr-2">person_add</span>Nouveau client
                    </h3>
                    <button onclick="closeClientModal()" class="text-white/80 hover:text-white transition">
                        <span class="material-icons text-3xl">close</span>
                    </button>
                </div>
                
                <!-- Form -->
                <form id="client-form" class="p-6 max-h-[75vh] overflow-y-auto">
                    <input type="hidden" id="client-edit-id">
                    
                    <!-- Type de client -->
                    <div class="bg-blue-50 rounded-xl p-4 mb-6">
                        <label class="block text-gray-700 text-sm font-semibold mb-3">Type de client</label>
                        <div class="grid grid-cols-2 gap-4">
                            <label class="relative cursor-pointer">
                                <input type="radio" name="client-type-radio" value="particulier" class="peer sr-only" checked onchange="toggleClientType()">
                                <div class="p-4 border-2 rounded-xl text-center transition peer-checked:border-blue-500 peer-checked:bg-white hover:border-gray-300 bg-white/50">
                                    <span class="material-icons text-3xl text-gray-500 peer-checked:text-blue-600">person</span>
                                    <p class="text-sm font-medium mt-2">Particulier</p>
                                </div>
                            </label>
                            <label class="relative cursor-pointer">
                                <input type="radio" name="client-type-radio" value="entreprise" class="peer sr-only" onchange="toggleClientType()">
                                <div class="p-4 border-2 rounded-xl text-center transition peer-checked:border-blue-500 peer-checked:bg-white hover:border-gray-300 bg-white/50">
                                    <span class="material-icons text-3xl text-gray-500 peer-checked:text-blue-600">business</span>
                                    <p class="text-sm font-medium mt-2">Entreprise</p>
                                </div>
                            </label>
                        </div>
                        <input type="hidden" id="client-type" value="particulier">
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Colonne gauche -->
                        <div class="space-y-5">
                            <!-- Infos Particulier -->
                            <div id="client-particulier-fields" class="bg-gray-50 rounded-xl p-4 space-y-4">
                                <h4 class="font-semibold text-gray-700 flex items-center">
                                    <span class="material-icons text-blue-600 mr-2">badge</span>Identit√©
                                </h4>
                                <div>
                                    <label class="block text-gray-600 text-sm mb-1">Civilit√©</label>
                                    <select id="client-civilite" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                        <option value="M.">Monsieur</option>
                                        <option value="Mme">Madame</option>
                                        <option value="Mlle">Mademoiselle</option>
                                    </select>
                                </div>
                                <div class="grid grid-cols-2 gap-3">
                                    <div>
                                        <label class="block text-gray-600 text-sm mb-1">Pr√©nom *</label>
                                        <input type="text" id="client-prenom" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                    </div>
                                    <div>
                                        <label class="block text-gray-600 text-sm mb-1">Nom *</label>
                                        <input type="text" id="client-nom" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" required>
                                    </div>
                                </div>
                                <div class="grid grid-cols-2 gap-3">
                                    <div>
                                        <label class="block text-gray-600 text-sm mb-1">Date naissance</label>
                                        <input type="date" id="client-naissance" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                    </div>
                                    <div>
                                        <label class="block text-gray-600 text-sm mb-1">N¬∞ CNI</label>
                                        <input type="text" id="client-cni" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                    </div>
                                </div>
                                <div>
                                    <label class="block text-gray-600 text-sm mb-1">Profession</label>
                                    <input type="text" id="client-profession" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                </div>
                            </div>
                            
                            <!-- Infos Entreprise -->
                            <div id="client-entreprise-fields" class="hidden bg-gray-50 rounded-xl p-4 space-y-4">
                                <h4 class="font-semibold text-gray-700 flex items-center">
                                    <span class="material-icons text-blue-600 mr-2">business</span>Entreprise
                                </h4>
                                <div>
                                    <label class="block text-gray-600 text-sm mb-1">Raison sociale *</label>
                                    <input type="text" id="client-raison-sociale" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                </div>
                                <div class="grid grid-cols-2 gap-3">
                                    <div>
                                        <label class="block text-gray-600 text-sm mb-1">NINEA</label>
                                        <input type="text" id="client-ninea" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                    </div>
                                    <div>
                                        <label class="block text-gray-600 text-sm mb-1">RCCM</label>
                                        <input type="text" id="client-rccm" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                    </div>
                                </div>
                                <div>
                                    <label class="block text-gray-600 text-sm mb-1">Secteur</label>
                                    <select id="client-secteur" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                        <option value="">-- S√©lectionner --</option>
                                        <option value="btp">BTP</option>
                                        <option value="immobilier">Immobilier</option>
                                        <option value="commerce">Commerce</option>
                                        <option value="services">Services</option>
                                        <option value="autre">Autre</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-gray-600 text-sm mb-1">Contact principal</label>
                                    <input type="text" id="client-contact-principal" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                </div>
                            </div>
                            
                            <!-- Coordonn√©es -->
                            <div class="bg-gray-50 rounded-xl p-4 space-y-4">
                                <h4 class="font-semibold text-gray-700 flex items-center">
                                    <span class="material-icons text-green-600 mr-2">contact_phone</span>Coordonn√©es
                                </h4>
                                <div>
                                    <label class="block text-gray-600 text-sm mb-1">T√©l√©phone *</label>
                                    <input type="tel" id="client-tel" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" required placeholder="+221 77 XXX XX XX">
                                </div>
                                <div>
                                    <label class="block text-gray-600 text-sm mb-1">T√©l. secondaire</label>
                                    <input type="tel" id="client-tel2" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                </div>
                                <div>
                                    <label class="block text-gray-600 text-sm mb-1">Email</label>
                                    <input type="email" id="client-email" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                </div>
                                <div>
                                    <label class="block text-gray-600 text-sm mb-1">WhatsApp</label>
                                    <input type="tel" id="client-whatsapp" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                </div>
                            </div>
                        </div>
                        
                        <!-- Colonne droite -->
                        <div class="space-y-5">
                            <!-- Adresse -->
                            <div class="bg-gray-50 rounded-xl p-4 space-y-4">
                                <h4 class="font-semibold text-gray-700 flex items-center">
                                    <span class="material-icons text-orange-600 mr-2">location_on</span>Adresse
                                </h4>
                                <div>
                                    <label class="block text-gray-600 text-sm mb-1">Adresse compl√®te</label>
                                    <input type="text" id="client-adresse" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                </div>
                                <div class="grid grid-cols-2 gap-3">
                                    <div>
                                        <label class="block text-gray-600 text-sm mb-1">Ville</label>
                                        <input type="text" id="client-ville" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" value="Dakar">
                                    </div>
                                    <div>
                                        <label class="block text-gray-600 text-sm mb-1">Pays</label>
                                        <input type="text" id="client-pays" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" value="S√©n√©gal">
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Int√©r√™ts -->
                            <div class="bg-gray-50 rounded-xl p-4 space-y-4">
                                <h4 class="font-semibold text-gray-700 flex items-center">
                                    <span class="material-icons text-purple-600 mr-2">interests</span>Int√©r√™ts
                                </h4>
                                <div>
                                    <label class="block text-gray-600 text-sm mb-2">Services</label>
                                    <div class="grid grid-cols-2 gap-2">
                                        <label class="flex items-center space-x-2 cursor-pointer">
                                            <input type="checkbox" name="client-services" value="vente" class="w-4 h-4 text-blue-600 rounded">
                                            <span class="text-sm">Vente</span>
                                        </label>
                                        <label class="flex items-center space-x-2 cursor-pointer">
                                            <input type="checkbox" name="client-services" value="location" class="w-4 h-4 text-blue-600 rounded">
                                            <span class="text-sm">Location</span>
                                        </label>
                                        <label class="flex items-center space-x-2 cursor-pointer">
                                            <input type="checkbox" name="client-services" value="renovation" class="w-4 h-4 text-blue-600 rounded">
                                            <span class="text-sm">R√©novation</span>
                                        </label>
                                        <label class="flex items-center space-x-2 cursor-pointer">
                                            <input type="checkbox" name="client-services" value="construction" class="w-4 h-4 text-blue-600 rounded">
                                            <span class="text-sm">Construction</span>
                                        </label>
                                    </div>
                                </div>
                                <div class="grid grid-cols-2 gap-3">
                                    <div>
                                        <label class="block text-gray-600 text-sm mb-1">Budget</label>
                                        <select id="client-budget" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                            <option value="">-- S√©lectionner --</option>
                                            <option value="0-5M">< 5M FCFA</option>
                                            <option value="5M-20M">5 - 20M</option>
                                            <option value="20M-50M">20 - 50M</option>
                                            <option value="50M+">50M+</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-gray-600 text-sm mb-1">Source</label>
                                        <select id="client-source" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                            <option value="">-- S√©lectionner --</option>
                                            <option value="bouche-a-oreille">Bouche √† oreille</option>
                                            <option value="site-web">Site web</option>
                                            <option value="reseaux-sociaux">R√©seaux sociaux</option>
                                            <option value="autre">Autre</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Statut -->
                            <div class="bg-gray-50 rounded-xl p-4 space-y-4">
                                <h4 class="font-semibold text-gray-700 flex items-center">
                                    <span class="material-icons text-indigo-600 mr-2">flag</span>Statut
                                </h4>
                                <div class="grid grid-cols-2 gap-3">
                                    <div>
                                        <label class="block text-gray-600 text-sm mb-1">Statut</label>
                                        <select id="client-statut" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                            <option value="prospect">üü° Prospect</option>
                                            <option value="actif">üü¢ Actif</option>
                                            <option value="en_negociation">üîµ En n√©go</option>
                                            <option value="vip">‚≠ê VIP</option>
                                            <option value="inactif">‚ö™ Inactif</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-gray-600 text-sm mb-1">Priorit√©</label>
                                        <select id="client-priorite" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                            <option value="normale">Normale</option>
                                            <option value="haute">üî¥ Haute</option>
                                            <option value="basse">Basse</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Notes -->
                            <div>
                                <label class="block text-gray-600 text-sm mb-1">Notes</label>
                                <textarea id="client-notes" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" rows="3" placeholder="Observations..."></textarea>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Boutons -->
                    <div class="flex justify-end space-x-3 pt-4 border-t mt-6">
                        <button type="button" onclick="closeClientModal()" class="px-6 py-3 bg-gray-200 text-gray-700 rounded-xl font-semibold hover:bg-gray-300 transition">
                            Annuler
                        </button>
                        <button type="submit" class="px-8 py-3 bg-gradient-to-r from-blue-600 to-blue-800 text-white rounded-xl font-bold hover:from-blue-700 hover:to-blue-900 transition shadow-lg">
                            <span class="material-icons align-middle mr-1">save</span>Enregistrer
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- MODAL RDV (RENDEZ-VOUS) -->
    <div id="rdv-modal" class="fixed inset-0 z-50 hidden overflow-y-auto">
        <div class="min-h-screen px-4 py-6 flex items-start justify-center bg-black/60 backdrop-blur-sm">
            <div class="bg-white rounded-2xl shadow-2xl w-full max-w-lg animate__animated animate__fadeInUp animate__faster">
                <!-- Header -->
                <div class="bg-gradient-to-r from-green-600 to-green-800 text-white px-6 py-4 rounded-t-2xl flex items-center justify-between">
                    <h3 id="rdv-modal-title" class="text-xl font-bold flex items-center">
                        <span class="material-icons mr-2">event_available</span>Nouveau rendez-vous
                    </h3>
                    <button onclick="closeRdvModal()" class="text-white/80 hover:text-white transition">
                        <span class="material-icons text-3xl">close</span>
                    </button>
                </div>
                
                <!-- Form -->
                <form id="rdv-form" class="p-6 space-y-5">
                    <input type="hidden" id="rdv-edit-index">
                    
                    <!-- S√©lection client existant -->
                    <div class="bg-blue-50 rounded-xl p-4">
                        <label class="block text-gray-700 text-sm font-semibold mb-2 flex items-center">
                            <span class="material-icons text-blue-600 mr-2 text-sm">auto_awesome</span>
                            Charger un client existant (auto-remplissage)
                        </label>
                        <select id="rdv-client-select" onchange="fillClientInfo(this.value, 'rdv')" class="w-full px-4 py-3 bg-white border-2 border-blue-200 rounded-xl text-gray-800 focus:border-blue-500">
                            <option value="">-- Nouveau client / Saisie manuelle --</option>
                        </select>
                    </div>
                    
                    <!-- Client -->
                    <div class="bg-gray-50 rounded-xl p-4 space-y-4">
                        <h4 class="font-semibold text-gray-700 flex items-center">
                            <span class="material-icons text-blue-600 mr-2">person</span>Client
                        </h4>
                        <div>
                            <label class="block text-gray-600 text-sm mb-1">Nom du client *</label>
                            <input type="text" id="rdv-client" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" required placeholder="Nom complet">
                        </div>
                        <div>
                            <label class="block text-gray-600 text-sm mb-1">T√©l√©phone</label>
                            <input type="tel" id="rdv-phone" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" placeholder="+221 77 XXX XX XX">
                        </div>
                        <div>
                            <label class="block text-gray-600 text-sm mb-1">Email</label>
                            <input type="email" id="rdv-email" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" placeholder="email@exemple.com">
                        </div>
                    </div>
                    
                    <!-- Date & Heure -->
                    <div class="bg-gray-50 rounded-xl p-4 space-y-4">
                        <h4 class="font-semibold text-gray-700 flex items-center">
                            <span class="material-icons text-green-600 mr-2">schedule</span>Date & Heure
                        </h4>
                        <div class="grid grid-cols-2 gap-3">
                            <div>
                                <label class="block text-gray-600 text-sm mb-1">Date *</label>
                                <input type="date" id="rdv-date" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" required>
                            </div>
                            <div>
                                <label class="block text-gray-600 text-sm mb-1">Heure *</label>
                                <input type="time" id="rdv-time" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" required>
                            </div>
                        </div>
                        <div>
                            <label class="block text-gray-600 text-sm mb-1">Dur√©e estim√©e</label>
                            <select id="rdv-duree" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                <option value="30">30 minutes</option>
                                <option value="60" selected>1 heure</option>
                                <option value="90">1h30</option>
                                <option value="120">2 heures</option>
                                <option value="180">3 heures</option>
                            </select>
                        </div>
                    </div>
                    
                    <!-- Service & Statut -->
                    <div class="grid grid-cols-2 gap-3">
                        <div>
                            <label class="block text-gray-600 text-sm mb-1">Type de service</label>
                            <select id="rdv-service" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                <option value="visite">üè† Visite de bien</option>
                                <option value="estimation">üìä Estimation</option>
                                <option value="signature">‚úçÔ∏è Signature</option>
                                <option value="travaux">üîß Devis travaux</option>
                                <option value="reunion">üë• R√©union</option>
                                <option value="chantier">üèóÔ∏è Visite chantier</option>
                                <option value="autre">üìã Autre</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-gray-600 text-sm mb-1">Statut</label>
                            <select id="rdv-status" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800">
                                <option value="confirme">‚úÖ Confirm√©</option>
                                <option value="attente">‚è≥ En attente</option>
                                <option value="annule">‚ùå Annul√©</option>
                            </select>
                        </div>
                    </div>
                    
                    <!-- Lieu -->
                    <div>
                        <label class="block text-gray-600 text-sm mb-1">Lieu du RDV</label>
                        <input type="text" id="rdv-lieu" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" placeholder="Adresse ou indication">
                    </div>
                    
                    <!-- Notes -->
                    <div>
                        <label class="block text-gray-600 text-sm mb-1">Notes</label>
                        <textarea id="rdv-notes" class="w-full px-3 py-2 bg-white border-2 border-gray-200 rounded-lg text-gray-800" rows="2" placeholder="D√©tails importants..."></textarea>
                    </div>
                    
                    <!-- Rappel -->
                    <div class="flex items-center space-x-3">
                        <input type="checkbox" id="rdv-rappel" class="w-4 h-4 text-green-600 rounded">
                        <label for="rdv-rappel" class="text-gray-700 text-sm cursor-pointer">Envoyer un rappel au client (WhatsApp/SMS)</label>
                    </div>
                    
                    <!-- Boutons -->
                    <div class="flex justify-end space-x-3 pt-4 border-t">
                        <button type="button" onclick="closeRdvModal()" class="px-6 py-3 bg-gray-200 text-gray-700 rounded-xl font-semibold hover:bg-gray-300 transition">
                            Annuler
                        </button>
                        <button type="submit" class="px-8 py-3 bg-gradient-to-r from-green-600 to-green-800 text-white rounded-xl font-bold hover:from-green-700 hover:to-green-900 transition shadow-lg">
                            <span class="material-icons align-middle mr-1">save</span>Enregistrer
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- ============================================= -->
    <!-- MODAL: CATALOGUE / ANNONCES -->
    <!-- ============================================= -->
    <div id="catalogue-modal" class="fixed inset-0 z-50 hidden overflow-y-auto">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="fixed inset-0 bg-black/60 backdrop-blur-sm" onclick="closeCatalogueModal()"></div>
            <div class="relative bg-white rounded-3xl shadow-2xl w-full max-w-2xl transform transition-all animate__animated animate__fadeInUp animate__faster">
                <!-- Header -->
                <div class="sticky top-0 z-10 px-6 py-4 border-b bg-gradient-to-r from-blue-600 to-blue-800 rounded-t-3xl">
                    <div class="flex items-center justify-between">
                        <h3 id="catalogue-modal-title" class="text-xl font-bold text-white flex items-center">
                            <span class="material-icons mr-2">home_work</span>Nouvelle annonce
                        </h3>
                        <button onclick="closeCatalogueModal()" class="text-white/80 hover:text-white transition p-1">
                            <span class="material-icons">close</span>
                        </button>
                    </div>
                </div>
                <!-- Form -->
                <form id="catalogue-form" class="p-6 space-y-5">
                    <input type="hidden" id="catalogue-edit-index">
                    <div>
                        <label class="block text-gray-700 font-medium mb-2">Titre de l'annonce *</label>
                        <input type="text" id="catalogue-title" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800 focus:border-blue-500" required placeholder="Ex: Villa 4 chambres √† Almadies">
                    </div>
                    <div>
                        <label class="block text-gray-700 font-medium mb-2">Description *</label>
                        <textarea id="catalogue-desc" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800 focus:border-blue-500" rows="4" required placeholder="Description d√©taill√©e du bien..."></textarea>
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Prix *</label>
                            <input type="text" id="catalogue-price" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800 focus:border-blue-500" required placeholder="Ex: 150 000 000 FCFA">
                        </div>
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Localisation</label>
                            <input type="text" id="catalogue-location" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800 focus:border-blue-500" placeholder="Ex: Dakar, Almadies">
                        </div>
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Cat√©gorie de publication *</label>
                            <select id="catalogue-category" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800 focus:border-blue-500" required>
                                <option value="vente">üè† Vente & Achat</option>
                                <option value="location-courte">‚è±Ô∏è Location Courte Dur√©e</option>
                                <option value="location-longue">üìÖ Location Longue Dur√©e</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Type de bien</label>
                            <select id="catalogue-type" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800 focus:border-blue-500">
                                <option value="maison">Maison</option>
                                <option value="appartement">Appartement</option>
                                <option value="terrain">Terrain</option>
                                <option value="bureau">Bureau / Local</option>
                                <option value="autre">Autre</option>
                            </select>
                        </div>
                    </div>
                    <div>
                        <label class="block text-gray-700 font-medium mb-2">Statut</label>
                        <select id="catalogue-status" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800 focus:border-blue-500">
                            <option value="actif">‚úÖ Actif (visible sur le site)</option>
                            <option value="brouillon">üìù Brouillon (non visible)</option>
                            <option value="vendu">üè∑Ô∏è Vendu / Lou√©</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-gray-700 font-medium mb-2">Photos (jusqu'√† 10 images)</label>
                        <div class="border-2 border-dashed border-gray-300 rounded-xl p-4 text-center hover:border-blue-400 transition cursor-pointer" id="catalogue-dropzone">
                            <input type="file" id="catalogue-images" accept="image/*" multiple class="hidden" onchange="previewCatalogueImages(this)">
                            <label for="catalogue-images" class="cursor-pointer block">
                                <span class="material-icons text-4xl text-gray-400">add_photo_alternate</span>
                                <p class="text-gray-500 mt-2">Cliquez ou glissez-d√©posez vos images</p>
                                <p class="text-xs text-gray-400 mt-1">PNG, JPG, WEBP ‚Ä¢ Max 5MB par image</p>
                            </label>
                        </div>
                        <!-- Preview des images multiples -->
                        <div id="catalogue-images-preview" class="mt-4 grid grid-cols-4 gap-2 hidden">
                            <!-- Les previews seront ajout√©es ici dynamiquement -->
                        </div>
                        <!-- Images existantes (en √©dition) -->
                        <div id="catalogue-existing-images" class="mt-4 hidden">
                            <p class="text-sm text-gray-600 mb-2 font-medium">Images actuelles :</p>
                            <div id="catalogue-existing-images-grid" class="grid grid-cols-4 gap-2">
                                <!-- Images existantes seront affich√©es ici -->
                            </div>
                        </div>
                    </div>
                    <!-- Buttons -->
                    <div class="flex justify-end space-x-3 pt-4 border-t">
                        <button type="button" onclick="closeCatalogueModal()" class="px-6 py-3 bg-gray-200 text-gray-700 rounded-xl font-semibold hover:bg-gray-300 transition">
                            Annuler
                        </button>
                        <button type="submit" class="px-8 py-3 bg-gradient-to-r from-blue-600 to-blue-800 text-white rounded-xl font-bold hover:from-blue-700 hover:to-blue-900 transition shadow-lg">
                            <span class="material-icons align-middle mr-1">save</span>Enregistrer
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- ============================================= -->
    <!-- MODAL: CAROUSEL / SLIDES -->
    <!-- ============================================= -->
    <div id="carousel-modal" class="fixed inset-0 z-50 hidden overflow-y-auto">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="fixed inset-0 bg-black/60 backdrop-blur-sm" onclick="closeCarouselModal()"></div>
            <div class="relative bg-white rounded-3xl shadow-2xl w-full max-w-2xl transform transition-all animate__animated animate__fadeInUp animate__faster">
                <!-- Header -->
                <div class="sticky top-0 z-10 px-6 py-4 border-b bg-gradient-to-r from-purple-600 to-purple-800 rounded-t-3xl">
                    <div class="flex items-center justify-between">
                        <h3 id="carousel-modal-title" class="text-xl font-bold text-white flex items-center">
                            <span class="material-icons mr-2">view_carousel</span>Nouveau slide
                        </h3>
                        <button onclick="closeCarouselModal()" class="text-white/80 hover:text-white transition p-1">
                            <span class="material-icons">close</span>
                        </button>
                    </div>
                </div>
                <!-- Form -->
                <form id="carousel-form" class="p-6 space-y-5">
                    <input type="hidden" id="carousel-edit-index">
                    <div>
                        <label class="block text-gray-700 font-medium mb-2">Titre *</label>
                        <input type="text" id="carousel-title" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800 focus:border-purple-500" required placeholder="Titre principal du slide">
                    </div>
                    <div>
                        <label class="block text-gray-700 font-medium mb-2">Sous-titre</label>
                        <input type="text" id="carousel-subtitle" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800 focus:border-purple-500" placeholder="Sous-titre ou accroche">
                    </div>
                    <div>
                        <label class="block text-gray-700 font-medium mb-2">Image du slide</label>
                        <div class="space-y-3">
                            <div class="border-2 border-dashed border-gray-300 rounded-xl p-4 text-center hover:border-purple-400 transition cursor-pointer">
                                <input type="file" id="carousel-image" accept="image/*" class="hidden">
                                <label for="carousel-image" class="cursor-pointer">
                                    <span class="material-icons text-4xl text-gray-400">image</span>
                                    <p class="text-gray-500 mt-2">T√©l√©charger une image</p>
                                </label>
                            </div>
                            <div class="text-center text-gray-400">‚Äî ou ‚Äî</div>
                            <input type="url" id="carousel-image-url" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800 focus:border-purple-500" placeholder="URL de l'image">
                        </div>
                    </div>
                    <div>
                        <label class="block text-gray-700 font-medium mb-2">Lien du bouton</label>
                        <input type="text" id="carousel-link" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800 focus:border-purple-500" placeholder="#contact ou /page">
                    </div>
                    <!-- Buttons -->
                    <div class="flex justify-end space-x-3 pt-4 border-t">
                        <button type="button" onclick="closeCarouselModal()" class="px-6 py-3 bg-gray-200 text-gray-700 rounded-xl font-semibold hover:bg-gray-300 transition">
                            Annuler
                        </button>
                        <button type="submit" class="px-8 py-3 bg-gradient-to-r from-purple-600 to-purple-800 text-white rounded-xl font-bold hover:from-purple-700 hover:to-purple-900 transition shadow-lg">
                            <span class="material-icons align-middle mr-1">save</span>Enregistrer
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- ============================================= -->
    <!-- MODAL: T√âMOIGNAGES -->
    <!-- ============================================= -->
    <div id="temoignage-modal" class="fixed inset-0 z-50 hidden overflow-y-auto">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="fixed inset-0 bg-black/60 backdrop-blur-sm" onclick="closeTemoignageModal()"></div>
            <div class="relative bg-white rounded-3xl shadow-2xl w-full max-w-2xl transform transition-all animate__animated animate__fadeInUp animate__faster">
                <!-- Header -->
                <div class="sticky top-0 z-10 px-6 py-4 border-b bg-gradient-to-r from-green-600 to-green-800 rounded-t-3xl">
                    <div class="flex items-center justify-between">
                        <h3 id="temoignage-modal-title" class="text-xl font-bold text-white flex items-center">
                            <span class="material-icons mr-2">format_quote</span>Nouveau t√©moignage
                        </h3>
                        <button onclick="closeTemoignageModal()" class="text-white/80 hover:text-white transition p-1">
                            <span class="material-icons">close</span>
                        </button>
                    </div>
                </div>
                <!-- Form -->
                <form id="temoignage-form" class="p-6 space-y-5">
                    <input type="hidden" id="temoignage-edit-index">
                    <div>
                        <label class="block text-gray-700 font-medium mb-2">Nom du client *</label>
                        <input type="text" id="temoignage-nom" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800 focus:border-green-500" required placeholder="Ex: Mamadou Diallo">
                    </div>
                    <div>
                        <label class="block text-gray-700 font-medium mb-2">Fonction / Localisation</label>
                        <input type="text" id="temoignage-fonction" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800 focus:border-green-500" placeholder="Ex: Propri√©taire √† Dakar">
                    </div>
                    <div>
                        <label class="block text-gray-700 font-medium mb-2">T√©moignage *</label>
                        <textarea id="temoignage-texte" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800 focus:border-green-500" rows="4" required placeholder="Le t√©moignage du client..."></textarea>
                    </div>
                    <div>
                        <label class="block text-gray-700 font-medium mb-2">Note</label>
                        <div class="flex space-x-2">
                            <label class="flex-1 cursor-pointer">
                                <input type="radio" name="temoignage-note" value="5" class="peer sr-only" checked>
                                <div class="p-3 border-2 rounded-xl text-center peer-checked:border-yellow-500 peer-checked:bg-yellow-50 hover:bg-gray-50 transition">
                                    <span class="text-2xl">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</span>
                                    <p class="text-xs text-gray-500 mt-1">Excellent</p>
                                </div>
                            </label>
                            <label class="flex-1 cursor-pointer">
                                <input type="radio" name="temoignage-note" value="4" class="peer sr-only">
                                <div class="p-3 border-2 rounded-xl text-center peer-checked:border-yellow-500 peer-checked:bg-yellow-50 hover:bg-gray-50 transition">
                                    <span class="text-2xl">‚≠ê‚≠ê‚≠ê‚≠ê</span>
                                    <p class="text-xs text-gray-500 mt-1">Tr√®s bien</p>
                                </div>
                            </label>
                            <label class="flex-1 cursor-pointer">
                                <input type="radio" name="temoignage-note" value="3" class="peer sr-only">
                                <div class="p-3 border-2 rounded-xl text-center peer-checked:border-yellow-500 peer-checked:bg-yellow-50 hover:bg-gray-50 transition">
                                    <span class="text-2xl">‚≠ê‚≠ê‚≠ê</span>
                                    <p class="text-xs text-gray-500 mt-1">Bien</p>
                                </div>
                            </label>
                        </div>
                    </div>
                    <div class="flex items-center space-x-3 bg-gray-50 p-4 rounded-xl">
                        <input type="checkbox" id="temoignage-visible" class="w-5 h-5 text-green-600 rounded" checked>
                        <label for="temoignage-visible" class="text-gray-700 cursor-pointer">Visible sur le site public</label>
                    </div>
                    <!-- Buttons -->
                    <div class="flex justify-end space-x-3 pt-4 border-t">
                        <button type="button" onclick="closeTemoignageModal()" class="px-6 py-3 bg-gray-200 text-gray-700 rounded-xl font-semibold hover:bg-gray-300 transition">
                            Annuler
                        </button>
                        <button type="submit" class="px-8 py-3 bg-gradient-to-r from-green-600 to-green-800 text-white rounded-xl font-bold hover:from-green-700 hover:to-green-900 transition shadow-lg">
                            <span class="material-icons align-middle mr-1">save</span>Enregistrer
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- ============================================= -->
    <!-- MODAL: FAQ -->
    <!-- ============================================= -->
    <div id="faq-modal" class="fixed inset-0 z-50 hidden overflow-y-auto">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="fixed inset-0 bg-black/60 backdrop-blur-sm" onclick="closeFaqModal()"></div>
            <div class="relative bg-white rounded-3xl shadow-2xl w-full max-w-2xl transform transition-all animate__animated animate__fadeInUp animate__faster">
                <!-- Header -->
                <div class="sticky top-0 z-10 px-6 py-4 border-b bg-gradient-to-r from-yellow-500 to-orange-600 rounded-t-3xl">
                    <div class="flex items-center justify-between">
                        <h3 id="faq-modal-title" class="text-xl font-bold text-white flex items-center">
                            <span class="material-icons mr-2">help_outline</span>Nouvelle question FAQ
                        </h3>
                        <button onclick="closeFaqModal()" class="text-white/80 hover:text-white transition p-1">
                            <span class="material-icons">close</span>
                        </button>
                    </div>
                </div>
                <!-- Form -->
                <form id="faq-form" class="p-6 space-y-5">
                    <input type="hidden" id="faq-edit-index">
                    <div>
                        <label class="block text-gray-700 font-medium mb-2">Question *</label>
                        <input type="text" id="faq-question" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800 focus:border-orange-500" required placeholder="Ex: Comment puis-je obtenir un devis ?">
                    </div>
                    <div>
                        <label class="block text-gray-700 font-medium mb-2">R√©ponse *</label>
                        <textarea id="faq-reponse" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800 focus:border-orange-500" rows="5" required placeholder="La r√©ponse d√©taill√©e √† la question..."></textarea>
                    </div>
                    <div>
                        <label class="block text-gray-700 font-medium mb-2">Cat√©gorie</label>
                        <select id="faq-categorie" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800 focus:border-orange-500">
                            <option value="general">G√©n√©ral</option>
                            <option value="services">Services</option>
                            <option value="tarifs">Tarifs</option>
                            <option value="processus">Processus</option>
                        </select>
                    </div>
                    <div class="flex items-center space-x-3 bg-gray-50 p-4 rounded-xl">
                        <input type="checkbox" id="faq-visible" class="w-5 h-5 text-orange-600 rounded" checked>
                        <label for="faq-visible" class="text-gray-700 cursor-pointer">Visible sur le site public</label>
                    </div>
                    <!-- Buttons -->
                    <div class="flex justify-end space-x-3 pt-4 border-t">
                        <button type="button" onclick="closeFaqModal()" class="px-6 py-3 bg-gray-200 text-gray-700 rounded-xl font-semibold hover:bg-gray-300 transition">
                            Annuler
                        </button>
                        <button type="submit" class="px-8 py-3 bg-gradient-to-r from-yellow-500 to-orange-600 text-white rounded-xl font-bold hover:from-yellow-600 hover:to-orange-700 transition shadow-lg">
                            <span class="material-icons align-middle mr-1">save</span>Enregistrer
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- ============================================= -->
    <!-- MODAL: M√âDIAS -->
    <!-- ============================================= -->
    <div id="media-modal" class="fixed inset-0 z-50 hidden overflow-y-auto">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="fixed inset-0 bg-black/60 backdrop-blur-sm" onclick="closeMediaModal()"></div>
            <div class="relative bg-white rounded-3xl shadow-2xl w-full max-w-2xl transform transition-all animate__animated animate__fadeInUp animate__faster">
                <!-- Header -->
                <div class="sticky top-0 z-10 px-6 py-4 border-b bg-gradient-to-r from-pink-600 to-rose-600 rounded-t-3xl">
                    <div class="flex items-center justify-between">
                        <h3 id="media-modal-title" class="text-xl font-bold text-white flex items-center">
                            <span class="material-icons mr-2">perm_media</span>Uploader un m√©dia
                        </h3>
                        <button onclick="closeMediaModal()" class="text-white/80 hover:text-white transition p-1">
                            <span class="material-icons">close</span>
                        </button>
                    </div>
                </div>
                <!-- Form -->
                <form id="media-form" class="p-6 space-y-5">
                    <div>
                        <label class="block text-gray-700 font-medium mb-2">Fichier *</label>
                        <div class="border-2 border-dashed border-gray-300 rounded-xl p-8 text-center hover:border-pink-400 transition cursor-pointer" id="media-dropzone">
                            <input type="file" id="media-file" accept="image/*,video/*" class="hidden" required onchange="previewMediaFile(this)">
                            <label for="media-file" class="cursor-pointer">
                                <span class="material-icons text-5xl text-gray-400">cloud_upload</span>
                                <p class="text-gray-600 mt-3 font-medium">Glissez-d√©posez ou cliquez pour s√©lectionner</p>
                                <p class="text-gray-400 text-sm mt-1">Images (JPG, PNG, WebP) ou Vid√©os (MP4)</p>
                            </label>
                            <div id="media-preview" class="mt-4 hidden">
                                <img src="" alt="Preview" class="max-h-48 mx-auto rounded-lg">
                                <p id="media-filename" class="text-sm text-gray-500 mt-2"></p>
                            </div>
                        </div>
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Type</label>
                            <select id="media-type" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800 focus:border-pink-500">
                                <option value="image">üñºÔ∏è Image</option>
                                <option value="logo">üé® Logo</option>
                                <option value="video">üé¨ Vid√©o</option>
                                <option value="document">üìÑ Document</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Cat√©gorie</label>
                            <select id="media-categorie" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800 focus:border-pink-500">
                                <option value="general">G√©n√©ral</option>
                                <option value="projets">Projets</option>
                                <option value="equipe">√âquipe</option>
                                <option value="bureaux">Bureaux</option>
                            </select>
                        </div>
                    </div>
                    <div>
                        <label class="block text-gray-700 font-medium mb-2">Titre / Description</label>
                        <input type="text" id="media-titre" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800 focus:border-pink-500" placeholder="Description du fichier (optionnel)">
                    </div>
                    <!-- Buttons -->
                    <div class="flex justify-end space-x-3 pt-4 border-t">
                        <button type="button" onclick="closeMediaModal()" class="px-6 py-3 bg-gray-200 text-gray-700 rounded-xl font-semibold hover:bg-gray-300 transition">
                            Annuler
                        </button>
                        <button type="submit" class="px-8 py-3 bg-gradient-to-r from-pink-600 to-rose-600 text-white rounded-xl font-bold hover:from-pink-700 hover:to-rose-700 transition shadow-lg">
                            <span class="material-icons align-middle mr-1">upload</span>Uploader
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- ============================================= -->
    <!-- MODAL: FACTURE / DEVIS -->
    <!-- ============================================= -->
    <div id="facture-modal" class="fixed inset-0 z-50 hidden overflow-y-auto">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="fixed inset-0 bg-black/60 backdrop-blur-sm" onclick="closeFactureModal()"></div>
            <div class="relative bg-white rounded-3xl shadow-2xl w-full max-w-3xl transform transition-all animate__animated animate__fadeInUp animate__faster">
                <!-- Header -->
                <div class="sticky top-0 z-10 px-6 py-4 border-b bg-gradient-to-r from-blue-600 to-indigo-700 rounded-t-3xl">
                    <div class="flex items-center justify-between">
                        <h3 id="facture-modal-title" class="text-xl font-bold text-white flex items-center">
                            <span class="material-icons mr-2">receipt_long</span>Nouvelle facture
                        </h3>
                        <button onclick="closeFactureModal()" class="text-white/80 hover:text-white transition p-1">
                            <span class="material-icons">close</span>
                        </button>
                    </div>
                </div>
                <!-- Form -->
                <form id="facture-form" class="p-6 max-h-[75vh] overflow-y-auto space-y-5">
                    <input type="hidden" id="facture-edit-id">
                    
                    <!-- Type et Dates -->
                    <div class="grid grid-cols-3 gap-4">
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Type</label>
                            <select id="facture-type" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800 focus:border-blue-500">
                                <option value="facture">üìÑ Facture</option>
                                <option value="devis">üìã Devis</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Date *</label>
                            <input type="date" id="facture-date" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800 focus:border-blue-500" required>
                        </div>
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">√âch√©ance</label>
                            <input type="date" id="facture-echeance" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800 focus:border-blue-500">
                        </div>
                    </div>
                    
                    <!-- Section Client -->
                    <div class="bg-blue-50 rounded-xl p-5 border border-blue-100">
                        <h4 class="font-bold text-blue-800 mb-4 flex items-center">
                            <span class="material-icons mr-2">person</span>Informations client
                        </h4>
                        <div class="bg-white rounded-xl p-4 mb-4 border-2 border-dashed border-blue-200">
                            <label class="block text-blue-800 text-sm font-bold mb-2">
                                <span class="material-icons align-middle text-sm mr-1">flash_on</span>Charger un client existant
                            </label>
                            <select id="facture-client" onchange="fillClientInfo(this.value, 'facture')" class="w-full px-4 py-3 border-2 border-blue-300 rounded-xl text-gray-800 focus:border-blue-500">
                                <option value="">-- S√©lectionner ou saisir manuellement --</option>
                            </select>
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-gray-700 text-sm mb-1">Nom / Raison sociale *</label>
                                <input type="text" id="facture-client-nom" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800" placeholder="Nom du client" required>
                            </div>
                            <div>
                                <label class="block text-gray-700 text-sm mb-1">Email</label>
                                <input type="email" id="facture-client-email" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800" placeholder="email@exemple.com">
                            </div>
                            <div>
                                <label class="block text-gray-700 text-sm mb-1">T√©l√©phone</label>
                                <input type="tel" id="facture-client-tel" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800" placeholder="+221 77 000 00 00">
                            </div>
                            <div>
                                <label class="block text-gray-700 text-sm mb-1">Adresse</label>
                                <input type="text" id="facture-client-adresse" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800" placeholder="Adresse compl√®te">
                            </div>
                        </div>
                    </div>
                    
                    <!-- Lignes de facture -->
                    <div class="bg-gray-50 rounded-xl p-5">
                        <h4 class="font-bold text-gray-800 mb-4 flex items-center justify-between">
                            <span><span class="material-icons align-middle mr-2">list_alt</span>Articles / Services</span>
                        </h4>
                        <div id="facture-lignes" class="space-y-3 mb-4">
                            <!-- Lignes dynamiques -->
                        </div>
                        <button type="button" onclick="addFactureLigne()" class="w-full py-3 border-2 border-dashed border-gray-300 rounded-xl text-gray-500 hover:border-blue-400 hover:text-blue-600 transition flex items-center justify-center">
                            <span class="material-icons mr-1">add</span> Ajouter une ligne
                        </button>
                    </div>
                    
                    <!-- Totaux -->
                    <div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-5">
                        <div class="space-y-3">
                            <div class="flex justify-between">
                                <span class="text-gray-600">Sous-total HT</span>
                                <span id="facture-subtotal" class="font-semibold">0 FCFA</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <div class="flex items-center space-x-2">
                                    <span class="text-gray-600">TVA (18%)</span>
                                    <select id="facture-tva-toggle" class="text-xs px-2 py-1 border rounded-lg">
                                        <option value="oui">Avec TVA</option>
                                        <option value="non">Sans TVA</option>
                                    </select>
                                </div>
                                <span id="facture-tva">0 FCFA</span>
                            </div>
                            <div class="flex justify-between text-xl font-bold border-t-2 border-blue-200 pt-3">
                                <span>Total TTC</span>
                                <span id="facture-total" class="text-blue-600">0 FCFA</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Notes -->
                    <div>
                        <label class="block text-gray-700 font-medium mb-2">Notes / Conditions</label>
                        <textarea id="facture-notes" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-gray-800" rows="2" placeholder="Conditions de paiement, informations suppl√©mentaires..."></textarea>
                    </div>
                    
                    <!-- Buttons -->
                    <div class="flex justify-end space-x-3 pt-4 border-t">
                        <button type="button" onclick="closeFactureModal()" class="px-6 py-3 bg-gray-200 text-gray-700 rounded-xl font-semibold hover:bg-gray-300 transition">
                            Annuler
                        </button>
                        <button type="submit" class="px-8 py-3 bg-gradient-to-r from-blue-600 to-indigo-700 text-white rounded-xl font-bold hover:from-blue-700 hover:to-indigo-800 transition shadow-lg">
                            <span class="material-icons align-middle mr-1">save</span>Enregistrer
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Conteneur Notifications Toast -->
    <div id="notifications-container"></div>
    
    <!-- PWA Install Prompt -->
    <div id="pwa-install-prompt" class="fixed bottom-6 right-6 glass-card rounded-2xl p-4 shadow-2xl hidden animate__animated animate__fadeInUp z-50">
        <div class="flex items-center space-x-4">
            <div class="w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center">
                <span class="material-icons text-green-600 text-2xl">install_mobile</span>
            </div>
            <div>
                <p class="font-bold text-gray-800">Installer l'application</p>
                <p class="text-sm text-gray-500">Acc√©dez rapidement au dashboard</p>
            </div>
            <button id="pwa-install-btn" class="pwa-install-btn text-white px-4 py-2 rounded-xl font-semibold">
                Installer
            </button>
            <button id="pwa-dismiss-btn" class="text-gray-400 hover:text-gray-600">
                <span class="material-icons">close</span>
            </button>
        </div>
    </div>

    <script src="admin.js"></script>
</body>
</html>
